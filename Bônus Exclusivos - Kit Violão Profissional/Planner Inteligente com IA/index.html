<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planner Inteligente com IA - Kit Viol√£o Profissional</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #8B4513;
            --secondary-color: #A0522D;
            --accent-color: #CD853F;
            --dark-color: #3E2723;
            --light-color: #FFF8E1;
            --light-bg: #FDFAF1;
            --shadow: 0 8px 24px rgba(139, 69, 19, 0.12);
            --radius: 10px;
            --transition: all 0.3s ease;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--dark-color);
            background-color: var(--light-bg);
            line-height: 1.7;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), #614126);
            color: #fff;
            padding: 3rem 1rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        header::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            right: 0;
            height: 20px;
            background: linear-gradient(135deg, transparent 25%, var(--light-bg) 25%, var(--light-bg) 50%, transparent 50%, transparent 75%, var(--light-bg) 75%);
            background-size: 20px 20px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.8rem;
            letter-spacing: -0.5px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1.5rem;
            font-weight: 500;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        .intro-card {
            background-color: #fff;
            border-radius: var(--radius);
            padding: 2rem;
            margin-bottom: 2.5rem;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--primary-color);
            transform: translateY(-20px);
        }

        .card {
            background-color: #fff;
            border-radius: var(--radius);
            padding: 2rem;
            margin-bottom: 2.5rem;
            box-shadow: var(--shadow);
        }

        h2 {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 1.2rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid rgba(139, 69, 19, 0.1);
        }

        h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--secondary-color);
        }

        p {
            margin-bottom: 1.5rem;
            color: #5D4037;
        }

        .form-group {
            margin-bottom: 1.8rem;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.7rem;
            color: var(--primary-color);
        }

        input,
        select,
        textarea {
            width: 100%;
            padding: 1rem 1.2rem;
            border: 1px solid rgba(139, 69, 19, 0.2);
            border-radius: var(--radius);
            font-family: inherit;
            font-size: 1rem;
            background-color: #FFFDF9;
            transition: all 0.2s ease;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.2);
            background-color: white;
        }

        .step {
            display: none;
        }

        .step.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.9rem 1.8rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            gap: 0.7rem;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 6px rgba(139, 69, 19, 0.25);
        }

        .btn:hover {
            background-color: #6B3610;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(139, 69, 19, 0.3);
        }

        .btn.btn-secondary {
            background-color: var(--accent-color);
        }

        .btn.btn-secondary:hover {
            background-color: #B76E2E;
        }

        .btn-row {
            display: flex;
            gap: 1.2rem;
            margin-top: 2rem;
        }

        .checkbox-group {
            margin: 1.5rem 0;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 0.8rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 0.5rem;
            border-radius: var(--radius);
            transition: var(--transition);
            background-color: #FFFDF9;
        }

        .checkbox-item:hover {
            background-color: rgba(205, 133, 63, 0.1);
        }

        .checkbox-item input[type="checkbox"] {
            width: auto;
            margin-right: 0.8rem;
            accent-color: var(--primary-color);
            transform: scale(1.2);
        }

        .time-block-container {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.8rem;
            margin: 1.5rem 0;
        }

        .day-column {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .day-header {
            text-align: center;
            font-weight: 600;
            padding: 0.7rem;
            background-color: rgba(139, 69, 19, 0.08);
            border-radius: var(--radius);
            color: var(--primary-color);
        }

        .time-block {
            padding: 0.8rem;
            background-color: #FFFDF9;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid rgba(139, 69, 19, 0.1);
            text-align: center;
            font-weight: 500;
        }

        .time-block:hover {
            background-color: rgba(205, 133, 63, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 2px 6px rgba(139, 69, 19, 0.1);
        }

        .time-block.selected {
            background-color: rgba(139, 69, 19, 0.15);
            border-color: var(--primary-color);
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(139, 69, 19, 0.15);
        }

        .progress-bar-container {
            background-color: rgba(139, 69, 19, 0.1);
            border-radius: 50px;
            height: 10px;
            margin: 2.5rem 0;
            position: relative;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            height: 100%;
            border-radius: 50px;
            transition: width 0.6s cubic-bezier(0.45, 0.05, 0.55, 0.95);
        }

        .step-indicators {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            position: relative;
        }

        .step-indicators::after {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            height: 2px;
            background-color: rgba(139, 69, 19, 0.1);
            z-index: 0;
        }

        .step-indicator {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: rgba(139, 69, 19, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            color: white;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
            box-shadow: 0 0 0 4px #fff;
        }

        .step-indicator.active {
            background-color: var(--primary-color);
            transform: scale(1.2);
            box-shadow: 0 0 0 4px #fff, 0 0 0 6px rgba(139, 69, 19, 0.2);
        }

        .step-indicator.completed {
            background-color: var(--secondary-color);
        }

        .progress-container {
            margin-bottom: 2.5rem;
            padding: 1rem 0;
        }

        .loading-animation {
            display: none;
            text-align: center;
            padding: 3rem;
        }

        .loading-animation i {
            animation: spin 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
            font-size: 3.5rem;
            color: var(--primary-color);
            opacity: 0.8;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .ai-result {
            margin-top: 2.5rem;
            padding: 2rem;
            background-color: #FFFDF9;
            border-radius: var(--radius);
            border-left: 5px solid var(--secondary-color);
            box-shadow: 0 4px 15px rgba(139, 69, 19, 0.08);
        }

        .ai-avatar {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            color: white;
            font-size: 2.5rem;
            box-shadow: 0 8px 16px rgba(139, 69, 19, 0.25);
        }

        .ai-message {
            margin-bottom: 1.8rem;
            padding: 1.5rem;
            background-color: white;
            border-radius: var(--radius);
            box-shadow: 0 3px 10px rgba(139, 69, 19, 0.08);
            position: relative;
        }

        .ai-message::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 30px;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-bottom: 10px solid white;
        }

        .progress-overview {
            margin-top: 1.5rem;
            text-align: center;
        }

        .mini-progress-bar {
            background-color: rgba(139, 69, 19, 0.1);
            border-radius: 50px;
            height: 8px;
            margin: 0.5rem auto;
            width: 80%;
            position: relative;
            overflow: hidden;
        }

        .mini-progress-fill {
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            height: 100%;
            border-radius: 50px;
            transition: width 0.6s cubic-bezier(0.45, 0.05, 0.55, 0.95);
        }

        .progress-text {
            font-size: 0.9rem;
            color: var(--dark-color);
            margin-top: 0.5rem;
        }

        .schedule {
            margin-top: 2rem;
        }

        .schedule-day {
            margin-bottom: 2rem;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(139, 69, 19, 0.1);
        }

        .schedule-day-header {
            background: linear-gradient(90deg, var(--primary-color), #6B3610);
            color: white;
            padding: 0.8rem 1.5rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .practice-session {
            background-color: white;
            border: 1px solid rgba(139, 69, 19, 0.1);
            border-top: none;
            padding: 1.5rem;
        }

        .session-time {
            font-weight: 600;
            color: var(--primary-color);
            display: inline-block;
            padding: 0.4rem 1rem;
            border-radius: 50px;
            background-color: rgba(139, 69, 19, 0.08);
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .session-focus {
            margin-top: 0.8rem;
            padding-left: 1.2rem;
            border-left: 3px solid var(--accent-color);
        }

        .difficulty-indicator {
            display: inline-block;
            margin-left: 0.7rem;
            font-size: 0.9rem;
            vertical-align: middle;
            color: var(--accent-color);
        }

        .complete-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
            margin-top: 1rem;
        }

        .complete-btn.completed {
            background-color: var(--secondary-color);
        }

        .bottom-nav {
            position: relative;
            margin-top: 2rem;
        }

        .home-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            padding: 1rem 2rem;
            background: linear-gradient(90deg, var(--secondary-color), var(--accent-color));
            color: white;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 12px rgba(139, 69, 19, 0.2);
            letter-spacing: 0.5px;
            font-size: 1.05rem;
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 100;
        }

        .home-btn:hover {
            background: linear-gradient(90deg, #8E4011, var(--accent-color));
            transform: translateY(-3px);
            box-shadow: 0 6px 18px rgba(139, 69, 19, 0.3);
        }

        @media (max-width: 768px) {
            .time-block-container {
                grid-template-columns: repeat(3, 1fr);
            }

            .step-indicators {
                display: flex;
                justify-content: center;
                gap: 1rem;
            }

            .step-indicators::after {
                display: none;
            }

            .btn-row {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }

            .home-btn {
                padding: 0.8rem 1.5rem;
                font-size: 0.95rem;
                bottom: 20px;
                right: 20px;
            }
        }

        @media (max-width: 480px) {
            .checkbox-group {
                grid-template-columns: 1fr;
            }

            .time-block-container {
                grid-template-columns: repeat(2, 1fr);
            }

            h1 {
                font-size: 2rem;
            }

            .container {
                padding: 1.5rem 1rem;
            }

            .intro-card,
            .card {
                padding: 1.5rem;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <h1>üìÖ Planner Inteligente com IA</h1>
            <div class="subtitle">Sua rotina de estudos personalizada para dominar o viol√£o</div>
        </div>
    </header>

    <div class="container">
        <div class="intro-card">
            <h2>Crie sua rotina de estudos personalizada</h2>
            <p>Este planner inteligente vai criar um plano de estudos semanal adaptado √†s suas necessidades, metas e
                tempo dispon√≠vel. Basta responder algumas perguntas e deixar nossa IA trabalhar para voc√™!</p>
            <p><strong>Como funciona:</strong> Informe suas metas de aprendizado, tempo dispon√≠vel e n√≠vel atual. O
                sistema analisar√° essas informa√ß√µes e criar√° um plano de estudos personalizado com atividades
                espec√≠ficas para cada dia da semana.</p>
        </div>

        <!-- Bot√£o de voltar para tela inicial fixo -->
        <button id="floating-home-btn" class="home-btn" onclick="resetToHome()"
            style="display: flex; position: fixed; bottom: 30px; right: 30px; z-index: 1000; padding: 18px; border-radius: 50%; background-color: #8B4513; box-shadow: 0 4px 8px rgba(0,0,0,0.2); border: none; align-items: center; justify-content: center; width: 60px; height: 60px;">
            <i class="fas fa-home" style="font-size: 24px; color: white;"></i>
        </button>

        <div class="card">
            <div class="progress-container">
                <div class="step-indicators">
                    <div class="step-indicator active">1</div>
                    <div class="step-indicator">2</div>
                    <div class="step-indicator">3</div>
                    <div class="step-indicator">4</div>
                    <div class="step-indicator">5</div>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar" style="width: 20%"></div>
                </div>
            </div>

            <div class="step active" id="step1">
                <h3>1. Qual √© o seu n√≠vel atual no viol√£o?</h3>
                <div class="form-group">
                    <select id="level">
                        <option value="iniciante">Iniciante (comecei h√° pouco tempo)</option>
                        <option value="iniciante-intermediario">Iniciante-Intermedi√°rio (sei alguns acordes b√°sicos)
                        </option>
                        <option value="intermediario">Intermedi√°rio (toco algumas m√∫sicas completas)</option>
                        <option value="intermediario-avancado">Intermedi√°rio-Avan√ßado (domino t√©cnicas espec√≠ficas)
                        </option>
                        <option value="avancado">Avan√ßado (toco h√° anos, busco aperfei√ßoamento)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="instrument-type">Qual viol√£o voc√™ utiliza?</label>
                    <select id="instrument-type">
                        <option value="violao-nylon">Viol√£o com cordas de nylon</option>
                        <option value="violao-aco">Viol√£o com cordas de a√ßo</option>
                        <option value="violao-12-cordas">Viol√£o de 12 cordas</option>
                        <option value="outro">Outro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="musical-style">Qual estilo musical voc√™ mais gosta/pretende tocar?</label>
                    <select id="musical-style">
                        <option value="mpb">MPB</option>
                        <option value="rock">Rock</option>
                        <option value="pop">Pop</option>
                        <option value="sertanejo">Sertanejo</option>
                        <option value="bossa-nova">Bossa Nova</option>
                        <option value="fingerstyle">Fingerstyle/Instrumental</option>
                        <option value="classico">Cl√°ssico</option>
                        <option value="outros">Outros estilos</option>
                    </select>
                </div>
                <div class="btn-row">
                    <button class="btn" onclick="nextStep(1)">Pr√≥ximo <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <div class="step" id="step2">
                <h3>2. Quais s√£o suas principais metas de aprendizado?</h3>
                <p>Selecione at√© 3 objetivos que gostaria de focar:</p>
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal1" name="goals" value="acordes-basicos">
                        <label for="goal1">Dominar acordes b√°sicos</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal2" name="goals" value="acordes-pestana">
                        <label for="goal2">Aprender acordes com pestana</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal3" name="goals" value="batidas-ritmos">
                        <label for="goal3">Melhorar batidas e ritmos</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal4" name="goals" value="trocar-acordes">
                        <label for="goal4">Trocar acordes com mais agilidade</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal5" name="goals" value="dedilhado">
                        <label for="goal5">Aprender dedilhados</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal6" name="goals" value="cantar-tocar">
                        <label for="goal6">Conseguir cantar e tocar ao mesmo tempo</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal7" name="goals" value="teoria-musical">
                        <label for="goal7">Entender teoria musical aplicada ao viol√£o</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal8" name="goals" value="repertorio">
                        <label for="goal8">Expandir meu repert√≥rio de m√∫sicas</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal9" name="goals" value="solo">
                        <label for="goal9">Aprender a fazer solos e improvisa√ß√£o</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal10" name="goals" value="leitura">
                        <label for="goal10">Desenvolver leitura de tablaturas/partituras</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal11" name="goals" value="tecnica-avancada">
                        <label for="goal11">T√©cnicas avan√ßadas (tapping, sweep picking)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="goal12" name="goals" value="composicao">
                        <label for="goal12">Compor m√∫sicas pr√≥prias</label>
                    </div>
                </div>
                <div class="btn-row">
                    <button class="btn btn-secondary" onclick="prevStep(2)"><i class="fas fa-arrow-left"></i>
                        Anterior</button>
                    <button class="btn" onclick="nextStep(2)">Pr√≥ximo <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <div class="step" id="step3">
                <h3>3. Quanto tempo voc√™ pode dedicar aos estudos por semana?</h3>
                <div class="form-group">
                    <select id="time-commitment">
                        <option value="muito-pouco">Muito pouco (15-30 minutos, 2-3 dias por semana)</option>
                        <option value="pouco">Pouco (30 minutos, 3-4 dias por semana)</option>
                        <option value="medio" selected>M√©dio (30-60 minutos, 4-5 dias por semana)</option>
                        <option value="alto">Alto (60 minutos, 5-6 dias por semana)</option>
                        <option value="muito-alto">Muito alto (mais de 60 minutos, todos os dias)</option>
                    </select>
                </div>
                <div class="btn-row">
                    <button class="btn btn-secondary" onclick="prevStep(3)"><i class="fas fa-arrow-left"></i>
                        Anterior</button>
                    <button class="btn" onclick="nextStep(3)">Pr√≥ximo <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <div class="step" id="step4">
                <h3>4. Selecione seus hor√°rios dispon√≠veis para pr√°tica</h3>
                <p>Clique nos blocos de tempo em que voc√™ normalmente est√° dispon√≠vel para praticar:</p>

                <div class="time-block-container">
                    <div class="day-column">
                        <div class="day-header">Segunda</div>
                        <div class="time-block" data-day="segunda" data-time="manha">Manh√£</div>
                        <div class="time-block" data-day="segunda" data-time="tarde">Tarde</div>
                        <div class="time-block" data-day="segunda" data-time="noite">Noite</div>
                    </div>
                    <div class="day-column">
                        <div class="day-header">Ter√ßa</div>
                        <div class="time-block" data-day="terca" data-time="manha">Manh√£</div>
                        <div class="time-block" data-day="terca" data-time="tarde">Tarde</div>
                        <div class="time-block" data-day="terca" data-time="noite">Noite</div>
                    </div>
                    <div class="day-column">
                        <div class="day-header">Quarta</div>
                        <div class="time-block" data-day="quarta" data-time="manha">Manh√£</div>
                        <div class="time-block" data-day="quarta" data-time="tarde">Tarde</div>
                        <div class="time-block" data-day="quarta" data-time="noite">Noite</div>
                    </div>
                    <div class="day-column">
                        <div class="day-header">Quinta</div>
                        <div class="time-block" data-day="quinta" data-time="manha">Manh√£</div>
                        <div class="time-block" data-day="quinta" data-time="tarde">Tarde</div>
                        <div class="time-block" data-day="quinta" data-time="noite">Noite</div>
                    </div>
                    <div class="day-column">
                        <div class="day-header">Sexta</div>
                        <div class="time-block" data-day="sexta" data-time="manha">Manh√£</div>
                        <div class="time-block" data-day="sexta" data-time="tarde">Tarde</div>
                        <div class="time-block" data-day="sexta" data-time="noite">Noite</div>
                    </div>
                    <div class="day-column">
                        <div class="day-header">S√°bado</div>
                        <div class="time-block" data-day="sabado" data-time="manha">Manh√£</div>
                        <div class="time-block" data-day="sabado" data-time="tarde">Tarde</div>
                        <div class="time-block" data-day="sabado" data-time="noite">Noite</div>
                    </div>
                    <div class="day-column">
                        <div class="day-header">Domingo</div>
                        <div class="time-block" data-day="domingo" data-time="manha">Manh√£</div>
                        <div class="time-block" data-day="domingo" data-time="tarde">Tarde</div>
                        <div class="time-block" data-day="domingo" data-time="noite">Noite</div>
                    </div>
                </div>

                <div class="btn-row">
                    <button class="btn btn-secondary" onclick="prevStep(4)"><i class="fas fa-arrow-left"></i>
                        Anterior</button>
                    <button class="btn" onclick="nextStep(4)">Pr√≥ximo <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <div class="step" id="step5">
                <h3>5. Detalhes para personalizar seu plano</h3>

                <div class="form-group">
                    <label for="learning-style">Como voc√™ prefere aprender?</label>
                    <select id="learning-style">
                        <option value="visual">Visual - aprendo melhor assistindo v√≠deos e demonstra√ß√µes</option>
                        <option value="auditivo">Auditivo - aprendo melhor ouvindo explica√ß√µes</option>
                        <option value="pratico">Pr√°tico - aprendo melhor fazendo exerc√≠cios repetidos</option>
                        <option value="teorico">Te√≥rico - gosto de entender os conceitos antes de praticar</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="challenge-level">Qual n√≠vel de desafio voc√™ prefere?</label>
                    <select id="challenge-level">
                        <option value="leve">Leve - prefiro avan√ßar devagar e consolidar o aprendizado</option>
                        <option value="moderado" selected>Moderado - desafios equilibrados com meu n√≠vel atual</option>
                        <option value="intenso">Intenso - gosto de ser desafiado al√©m do meu n√≠vel atual</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="additional-info">Informa√ß√µes adicionais importantes:</label>
                    <textarea id="additional-info" rows="4"
                        placeholder="Ex.: Tenho dificuldade em fazer pestanas, prefiro m√∫sicas de MPB, tenho les√£o no dedo indicador, etc..."></textarea>
                </div>

                <div class="btn-row">
                    <button class="btn btn-secondary" onclick="prevStep(5)"><i class="fas fa-arrow-left"></i>
                        Anterior</button>
                    <button class="btn" onclick="generatePlan()">Gerar Meu Plano <i class="fas fa-magic"></i></button>
                </div>
            </div>

            <div class="loading-animation" id="loading">
                <i class="fas fa-cog"></i>
                <p>Nossa IA est√° criando seu plano personalizado...</p>
            </div>

            <div class="step" id="result">
                <div class="ai-result">
                    <div class="ai-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="ai-message">
                        <p>Ol√°! Analisei suas informa√ß√µes e criei um plano de estudos personalizado para ajudar voc√™ a
                            alcan√ßar seus objetivos. Este plano foi estruturado com base no seu n√≠vel atual, metas e
                            disponibilidade de tempo.</p>
                        <p>Lembre-se: consist√™ncia √© mais importante que longas sess√µes de pr√°tica. Mesmo 15 minutos
                            di√°rios podem trazer grandes resultados ao longo do tempo!</p>
                        <div class="progress-overview">
                            <h4>Progresso Semanal Estimado</h4>
                            <div class="mini-progress-bar">
                                <div class="mini-progress-fill" style="width: 0%"></div>
                            </div>
                            <p class="progress-text">Comece hoje e acompanhe seu desenvolvimento!</p>
                        </div>
                    </div>

                    <div class="schedule"></div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>Domine o Viol√£o - Material exclusivo para uso educacional</p>
            <p>Use este planner para acelerar seus resultados e manter a consist√™ncia nos estudos!</p>
        </div>
    </footer>

    <script>
        // Global variables
        let currentStep = 1;
        const totalSteps = 5;

        // Time blocks selection
        document.querySelectorAll('.time-block').forEach(block => {
            block.addEventListener('click', function () {
                this.classList.toggle('selected');
            });
        });

        // Navigation between steps
        function nextStep(step) {
            // Validation
            if (step === 2) {
                const checkedGoals = document.querySelectorAll('input[name="goals"]:checked');
                if (checkedGoals.length === 0) {
                    alert('Por favor, selecione pelo menos um objetivo!');
                    return;
                }
                if (checkedGoals.length > 3) {
                    alert('Por favor, selecione no m√°ximo 3 objetivos!');
                    return;
                }
            }

            if (step === 4) {
                const selectedTimeBlocks = document.querySelectorAll('.time-block.selected');
                if (selectedTimeBlocks.length === 0) {
                    alert('Por favor, selecione pelo menos um hor√°rio dispon√≠vel!');
                    return;
                }
            }

            // Hide current step
            document.getElementById(`step${step}`).classList.remove('active');

            // Update progress bar
            currentStep = step + 1;
            const progressPercentage = (currentStep / totalSteps) * 100;
            document.querySelector('.progress-bar').style.width = `${progressPercentage}%`;

            // Update step indicators
            document.querySelectorAll('.step-indicator').forEach((indicator, index) => {
                if (index < currentStep) {
                    indicator.classList.add('completed');
                }
                if (index === currentStep - 1) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.remove('active');
                }
            });

            // Show next step
            document.getElementById(`step${currentStep}`).classList.add('active');

            // Show floating home button when not on step 1
            if (currentStep > 1) {
                document.getElementById('floating-home-btn').style.display = 'flex';
            }
        }

        function prevStep(step) {
            // Hide current step
            document.getElementById(`step${step}`).classList.remove('active');

            // Update progress bar
            currentStep = step - 1;
            const progressPercentage = (currentStep / totalSteps) * 100;
            document.querySelector('.progress-bar').style.width = `${progressPercentage}%`;

            // Update step indicators
            document.querySelectorAll('.step-indicator').forEach((indicator, index) => {
                if (index === currentStep - 1) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.remove('active');
                }
            });

            // Show previous step
            document.getElementById(`step${currentStep}`).classList.add('active');

            // Hide floating home button when on step 1
            document.getElementById('floating-home-btn').style.display = currentStep > 1 ? 'flex' : 'none';
        }

        function generatePlan() {
            // Hide the current step
            document.getElementById('step5').classList.remove('active');

            // Show loading animation
            document.getElementById('loading').style.display = 'block';

            // Collect all user inputs
            const userProfile = {
                level: document.getElementById('level').value,
                instrumentType: document.getElementById('instrument-type').value,
                musicalStyle: document.getElementById('musical-style').value,
                goals: Array.from(document.querySelectorAll('input[name="goals"]:checked')).map(cb => cb.value),
                timeCommitment: document.getElementById('time-commitment').value,
                availableTimes: Array.from(document.querySelectorAll('.time-block.selected')).map(block => {
                    return {
                        day: block.getAttribute('data-day'),
                        time: block.getAttribute('data-time')
                    };
                }),
                learningStyle: document.getElementById('learning-style').value,
                challengeLevel: document.getElementById('challenge-level').value,
                additionalInfo: document.getElementById('additional-info').value
            };

            // Simulate AI processing time
            setTimeout(() => {
                // Generate personalized plan based on user inputs
                const personalizedPlan = createPersonalizedPlan(userProfile);

                // Update the result section with the personalized plan
                updateResultView(personalizedPlan, userProfile);

                // Hide loading animation
                document.getElementById('loading').style.display = 'none';

                // Show results
                document.getElementById('result').classList.add('active');

                // Collapse the progress bar container
                document.querySelector('.progress-container').style.display = 'none';
            }, 3000);
        }

        // Function to create a personalized plan based on user profile
        function createPersonalizedPlan(profile) {
            // Base structure for the plan
            const plan = {
                message: '',
                dailySessions: []
            };

            // Personalize welcome message
            plan.message = createPersonalizedMessage(profile);

            // Get available days from user selection
            const availableDays = [...new Set(profile.availableTimes.map(time => time.day))];

            // Define practice sessions based on level and goals
            const recommendedSessions = generateRecommendedSessions(profile);

            // Distribute sessions across available days
            plan.dailySessions = distributeSessions(recommendedSessions, availableDays, profile);

            return plan;
        }

        // Create a personalized welcome message
        function createPersonalizedMessage(profile) {
            let message = `Ol√°! Analisei suas informa√ß√µes e criei um plano de estudos personalizado para ajudar voc√™ a `;

            // Add goals to message
            if (profile.goals.includes('acordes-basicos')) {
                message += 'dominar os acordes b√°sicos';
            } else if (profile.goals.includes('acordes-pestana')) {
                message += 'aprender acordes com pestana';
            } else if (profile.goals.includes('trocar-acordes')) {
                message += 'aprimorar a troca de acordes';
            } else {
                message += 'alcan√ßar seus objetivos no viol√£o';
            }

            message += '. ';

            // Add personalization based on level
            if (profile.level === 'iniciante') {
                message += 'Como iniciante, foquei em estabelecer uma base s√≥lida com exerc√≠cios fundamentais. ';
            } else if (profile.level === 'iniciante-intermediario') {
                message += 'Como voc√™ j√° conhece alguns acordes b√°sicos, vamos avan√ßar gradualmente para consolidar conceitos importantes. ';
            } else if (profile.level === 'intermediario') {
                message += 'Com seu n√≠vel intermedi√°rio, inclu√≠ exerc√≠cios para expandir suas habilidades t√©cnicas e musicais. ';
            } else if (profile.level === 'intermediario-avancado' || profile.level === 'avancado') {
                message += 'Com seu n√≠vel mais avan√ßado, desenvolvi um plano com t√©cnicas espec√≠ficas e conceitos mais complexos. ';
            }

            // Add personalization based on instrument
            if (profile.instrumentType === 'violao-nylon') {
                message += 'Os exerc√≠cios s√£o adaptados para cordas de nylon, aproveitando a maciez das cordas para t√©cnicas espec√≠ficas. ';
            } else if (profile.instrumentType === 'violao-aco') {
                message += 'Para seu viol√£o de a√ßo, inclu√≠ t√©cnicas que valorizam a proje√ß√£o e brilho caracter√≠sticos desse instrumento. ';
            }

            // Add message about consistency
            if (profile.timeCommitment === 'muito-pouco' || profile.timeCommitment === 'pouco') {
                message += 'Lembre-se: mesmo com pouco tempo dispon√≠vel, a consist√™ncia √© mais importante que longas sess√µes de pr√°tica. ';
                message += 'Este plano foi otimizado para sess√µes curtas e eficientes, garantindo progresso constante. ';
            } else {
                message += 'Lembre-se: consist√™ncia √© mais importante que longas sess√µes de pr√°tica. ';
                message += 'Mantenha a regularidade nos estudos para ver resultados s√≥lidos ao longo do tempo. ';
            }

            // Add message about style
            if (profile.musicalStyle) {
                message += `Inclu√≠ sugest√µes de repert√≥rio e exerc√≠cios voltados para o estilo ${getStyleName(profile.musicalStyle)} que voc√™ prefere. `;
            }

            return message;
        }

        // Helper function to get style name from value
        function getStyleName(styleValue) {
            const styleMap = {
                'mpb': 'MPB',
                'rock': 'Rock',
                'pop': 'Pop',
                'sertanejo': 'Sertanejo',
                'bossa-nova': 'Bossa Nova',
                'fingerstyle': 'Fingerstyle',
                'classico': 'Cl√°ssico',
                'outros': 'que voc√™ selecionou'
            };
            return styleMap[styleValue] || 'selecionado';
        }

        // Generate recommended practice sessions based on user goals and level
        function generateRecommendedSessions(profile) {
            const sessions = [];

            // Define difficulty based on challenge level
            const difficultyBase = profile.challengeLevel === 'leve' ? 1 :
                profile.challengeLevel === 'moderado' ? 2 : 3;

            // Handle goals
            if (profile.goals.includes('acordes-basicos')) {
                sessions.push({
                    title: 'Fundamentos de acordes',
                    description: getFundamentalAcordsDescription(profile),
                    difficulty: Math.min(difficultyBase + 1, 5),
                    duration: getDurationForLevel(profile.timeCommitment, 'acordes-basicos'),
                    material: getMaterialRecommendation(profile, 'acordes-basicos')
                });
            }

            if (profile.goals.includes('batidas-ritmos')) {
                sessions.push({
                    title: 'Pr√°tica de ritmos',
                    description: getRhythmDescription(profile),
                    difficulty: Math.min(difficultyBase + 1, 5),
                    duration: getDurationForLevel(profile.timeCommitment, 'batidas-ritmos'),
                    material: getMaterialRecommendation(profile, 'batidas-ritmos')
                });
            }

            if (profile.goals.includes('dedilhado')) {
                sessions.push({
                    title: 'T√©cnica de m√£o direita',
                    description: getFingerPickingDescription(profile),
                    difficulty: Math.min(difficultyBase + 1, 5),
                    duration: getDurationForLevel(profile.timeCommitment, 'dedilhado'),
                    material: getMaterialRecommendation(profile, 'dedilhado')
                });
            }

            if (profile.goals.includes('acordes-pestana')) {
                sessions.push({
                    title: 'Acordes com pestana',
                    description: getBarChordDescription(profile),
                    difficulty: Math.min(difficultyBase + 2, 5),
                    duration: getDurationForLevel(profile.timeCommitment, 'acordes-pestana'),
                    material: getMaterialRecommendation(profile, 'acordes-pestana')
                });
            }

            if (profile.goals.includes('trocar-acordes')) {
                sessions.push({
                    title: 'Transi√ß√£o entre acordes',
                    description: getChordTransitionDescription(profile),
                    difficulty: Math.min(difficultyBase + 1, 5),
                    duration: getDurationForLevel(profile.timeCommitment, 'trocar-acordes'),
                    material: getMaterialRecommendation(profile, 'trocar-acordes')
                });
            }

            if (profile.goals.includes('cantar-tocar')) {
                sessions.push({
                    title: 'Cantar e tocar',
                    description: getSingAndPlayDescription(profile),
                    difficulty: Math.min(difficultyBase + 2, 5),
                    duration: getDurationForLevel(profile.timeCommitment, 'cantar-tocar'),
                    material: getMaterialRecommendation(profile, 'cantar-tocar')
                });
            }

            if (profile.goals.includes('teoria-musical')) {
                sessions.push({
                    title: 'Teoria musical aplicada',
                    description: getMusicTheoryDescription(profile),
                    difficulty: Math.min(difficultyBase + 1, 5),
                    duration: getDurationForLevel(profile.timeCommitment, 'teoria-musical'),
                    material: getMaterialRecommendation(profile, 'teoria-musical')
                });
            }

            if (profile.goals.includes('repertorio')) {
                sessions.push({
                    title: 'Repert√≥rio e pr√°tica',
                    description: getRepertoireDescription(profile),
                    difficulty: Math.min(difficultyBase + 1, 5),
                    duration: getDurationForLevel(profile.timeCommitment, 'repertorio'),
                    material: getMaterialRecommendation(profile, 'repertorio')
                });
            }

            if (profile.goals.includes('solo')) {
                sessions.push({
                    title: 'T√©cnicas de solo e improvisa√ß√£o',
                    description: getSoloDescription(profile),
                    difficulty: Math.min(difficultyBase + 2, 5),
                    duration: getDurationForLevel(profile.timeCommitment, 'solo'),
                    material: getMaterialRecommendation(profile, 'solo')
                });
            }

            if (profile.goals.includes('leitura')) {
                sessions.push({
                    title: 'Leitura musical',
                    description: getReadingDescription(profile),
                    difficulty: Math.min(difficultyBase + 1, 5),
                    duration: getDurationForLevel(profile.timeCommitment, 'leitura'),
                    material: getMaterialRecommendation(profile, 'leitura')
                });
            }

            // Always add a review session at the end of the week
            sessions.push({
                title: 'Revis√£o e consolida√ß√£o',
                description: 'Revisar todo o conte√∫do praticado durante a semana. Identificar pontos fortes e √°reas que precisam de mais aten√ß√£o.',
                difficulty: 1,
                duration: 20,
                material: 'Dica: Grave um v√≠deo curto tocando o que aprendeu para acompanhar seu progresso ao longo do tempo.'
            });

            return sessions;
        }

        // Distribute sessions across available days
        function distributeSessions(sessions, availableDays, profile) {
            const dailySessions = [];
            const dayTranslation = {
                'segunda': 'Segunda-feira',
                'terca': 'Ter√ßa-feira',
                'quarta': 'Quarta-feira',
                'quinta': 'Quinta-feira',
                'sexta': 'Sexta-feira',
                'sabado': 'S√°bado',
                'domingo': 'Domingo'
            };

            // Sort days in order: Monday to Sunday
            const dayOrder = ['segunda', 'terca', 'quarta', 'quinta', 'sexta', 'sabado', 'domingo'];
            availableDays.sort((a, b) => dayOrder.indexOf(a) - dayOrder.indexOf(b));

            // For few available days, combine exercises
            if (availableDays.length < sessions.length) {
                // Combine some sessions
                const combinedSessions = [];
                for (let i = 0; i < availableDays.length; i++) {
                    const sessionsPerDay = Math.ceil(sessions.length / availableDays.length);
                    const startIdx = i * sessionsPerDay;
                    const endIdx = Math.min(startIdx + sessionsPerDay, sessions.length);

                    if (startIdx < sessions.length) {
                        const daySessions = sessions.slice(startIdx, endIdx);

                        // Get available times for this day
                        const dayTimes = profile.availableTimes
                            .filter(time => time.day === availableDays[i])
                            .map(time => time.time);

                        // Choose appropriate time (prefer evening for weekdays, afternoon for weekends)
                        let preferredTime = 'noite';
                        if ((availableDays[i] === 'sabado' || availableDays[i] === 'domingo') && dayTimes.includes('tarde')) {
                            preferredTime = 'tarde';
                        } else if (dayTimes.includes('noite')) {
                            preferredTime = 'noite';
                        } else {
                            preferredTime = dayTimes[0]; // Default to first available time
                        }

                        // Calculate total duration
                        const totalDuration = daySessions.reduce((sum, session) => sum + session.duration, 0);

                        combinedSessions.push({
                            day: dayTranslation[availableDays[i]],
                            time: preferredTime,
                            duration: totalDuration,
                            sessions: daySessions
                        });
                    }
                }

                return combinedSessions;
            } else {
                // Distribute sessions one per available day
                for (let i = 0; i < sessions.length; i++) {
                    if (i < availableDays.length) {
                        const dayIndex = i % availableDays.length;
                        const dayTimes = profile.availableTimes
                            .filter(time => time.day === availableDays[dayIndex])
                            .map(time => time.time);

                        // Choose appropriate time
                        let preferredTime = 'noite';
                        if ((availableDays[dayIndex] === 'sabado' || availableDays[dayIndex] === 'domingo') && dayTimes.includes('tarde')) {
                            preferredTime = 'tarde';
                        } else if (dayTimes.includes('noite')) {
                            preferredTime = 'noite';
                        } else {
                            preferredTime = dayTimes[0]; // Default to first available time
                        }

                        dailySessions.push({
                            day: dayTranslation[availableDays[dayIndex]],
                            time: preferredTime,
                            duration: sessions[i].duration,
                            sessions: [sessions[i]]
                        });
                    }
                }

                return dailySessions;
            }
        }

        // Helper functions for descriptions and materials
        function getFundamentalAcordsDescription(profile) {
            if (profile.level === 'iniciante') {
                return 'Aprender os acordes maiores b√°sicos: C, G, D, A e E. Praticar a forma√ß√£o de cada acorde separadamente por 2 minutos cada, garantindo que todas as notas soem claramente. Exerc√≠cio sugerido: posicionar o acorde, tocar cada corda separadamente, certificando-se de que todas soam limpas.';
            } else if (profile.level === 'iniciante-intermediario') {
                return 'Praticar transi√ß√µes fluidas entre os acordes G, C, D, Em e Am. Come√ßar devagar (40 BPM) e aumentar gradualmente a velocidade (+5 BPM a cada s√©rie), focando em movimentos econ√¥micos dos dedos e na sonoridade limpa. Trabalhar especialmente nas transi√ß√µes C‚ÜíG e Em‚ÜíAm.';
            } else {
                return 'Revisar acordes com formas alternativas (invers√µes) e combinar em progress√µes mais complexas. Foco nas progress√µes ii-V-I (por exemplo: Dm7-G7-Cmaj7) em diferentes tonalidades. Trabalhar em transi√ß√µes r√°pidas e precisas, mantendo o fluxo r√≠tmico constante durante as mudan√ßas.';
            }
        }

        function getRhythmDescription(profile) {
            if (profile.musicalStyle === 'mpb' || profile.musicalStyle === 'bossa-nova') {
                return 'Treinar padr√µes r√≠tmicos de MPB/Bossa Nova: comece com batida de 2 tempos (BAIXO-ACORDE-BAIXO-ACORDE) a 60 BPM. Use acordes simples como C e G. Depois, avance para o padr√£o sincopado: BAIXO-(pausa)-ACORDE-BAIXO-(pausa)-ACORDE, caracter√≠stico destes estilos. Pratique com progress√µes Am-D7-G-C ou Bm7-E7-AM7.';
            } else if (profile.musicalStyle === 'rock') {
                return 'Treinar batidas de rock: comece com o padr√£o BAIXO (sem√≠nima) + 3 BATIDAS PARA BAIXO (colcheias) usando acordes power chords. Trabalhe a intensidade e acentua√ß√£o nas batidas para baixo alternando entre palhetadas suaves e fortes. Pratique com a progress√£o E5-G5-A5 ou G5-C5-D5 aumentando gradualmente o tempo de 70 para 120 BPM.';
            } else if (profile.musicalStyle === 'sertanejo') {
                return 'Praticar batidas caracter√≠sticas do sertanejo: comece com a batida b√°sica de 4 tempos (BAIXO-CIMA-BAIXO-BAIXO-CIMA-BAIXO) aplicada aos acordes G, C e D. Trabalhe na varia√ß√£o de din√¢mica entre os toques para baixo (mais acentuados) e para cima (mais suaves). Aprenda o padr√£o "vaneir√£o" usado em mod√µes: BAIXO-BAIXO-CIMA-BAIXO-CIMA.';
            } else if (profile.musicalStyle === 'pop') {
                return 'Treinar batida b√°sica de pop: pratique o padr√£o BAIXO-BAIXO-CIMA-BAIXO-CIMA-BAIXO com acordes como C, G, Am e F. Mantenha o pulso constante a 80 BPM, focando na regularidade do movimento de pulso. Depois, experimente a varia√ß√£o BAIXO-BAIXO-CIMA-CIMA-BAIXO-CIMA para criar mais din√¢mica.';
            } else {
                return 'Treinar batida b√°sica universal de 6 batidas (BAIXO-BAIXO-CIMA-BAIXO-CIMA-BAIXO) aplicando aos acordes C, G, Am e F. Mantenha um tempo constante de 70 BPM, focando na regularidade do movimento de pulso e na limpeza do som. Aumente gradualmente a velocidade em incrementos de 5 BPM quando estiver confort√°vel.';
            }
        }

        function getFingerPickingDescription(profile) {
            if (profile.level === 'iniciante' || profile.level === 'iniciante-intermediario') {
                return 'Exerc√≠cios de dedilhado simples para desenvolver independ√™ncia dos dedos. Comece com sequ√™ncia p-i-m-a em cordas soltas (60 BPM), mantendo o polegar na 6¬™, 5¬™ e 4¬™ cordas enquanto os dedos i-m-a tocam as cordas 3-2-1 respectivamente. Pratique por 5 minutos, depois tente o padr√£o p-a-m-i por mais 5 minutos. Finalize aplicando em um arpejo simples com os acordes C e G.';
            } else if (profile.musicalStyle === 'classico' || profile.musicalStyle === 'fingerstyle') {
                return 'Pratique arpejos mais complexos como p-i-m-a-m-i e p-a-m-i-m-a alternando entre as tonalidades de D√≥ e Sol maior. Trabalhe o arpejo de "Romance An√¥nimo" aplicando din√¢mica (varia√ß√£o de intensidade) para destacar a melodia. Adicione exerc√≠cios que combinam dedilhado na m√£o direita com ligados na m√£o esquerda. Mantenha o metr√¥nomo a 70 BPM e aumente gradualmente at√© 90 BPM.';
            } else {
                return 'Exerc√≠cios de dedilhado intermedi√°rios com foco na t√©cnica de polegar alternado com outros dedos: p-i-p-m-p-a. Aplique em progress√µes como C-G-Am-F, destacando notas da melodia com o dedo a enquanto mant√©m um baixo constante com o polegar. Treine separar linhas mel√≥dicas do acompanhamento variando a din√¢mica entre os dedos. Comece em 60 BPM e aumente gradualmente a velocidade mantendo a precis√£o.';
            }
        }

        function getBarChordDescription(profile) {
            if (profile.level === 'iniciante' || profile.level === 'iniciante-intermediario') {
                return 'Introdu√ß√£o b√°sica aos acordes com pestana, come√ßando com F maior na primeira casa. Trabalhe o posicionamento correto do dedo indicador (paralelo √† pestana) e o apoio do polegar atr√°s do bra√ßo. Exerc√≠cio: pressione apenas o indicador em todas as cordas na 1¬™ casa por 10 segundos, descanse 10 segundos e repita 5 vezes. Depois tente formar o acorde F completo, tocando uma corda de cada vez para verificar se todas est√£o soando claramente.';
            } else {
                return 'Pratique transi√ß√µes entre acordes com pestana em diferentes posi√ß√µes do bra√ßo. Exerc√≠cio 1: mudan√ßa entre B7 (2¬™ casa) e F (1¬™ casa) contando 4 tempos para cada acorde. Exerc√≠cio 2: progress√£o Am - F - C - G7. Exerc√≠cio 3: pratique a forma da pestana "m√≥vel", tocando Fm na 1¬™ casa, depois deslizando a mesma forma para F#m (2¬™ casa), Gm (3¬™ casa) e assim por diante. Foque em manter a sonoridade limpa e consistente.';
            }
        }

        function getChordTransitionDescription(profile) {
            if (profile.level === 'iniciante') {
                return 'Exerc√≠cios para transi√ß√µes suaves entre acordes b√°sicos (C, G, D, A, E). Praticar a mudan√ßa lenta, focando em movimentar todos os dedos simultaneamente.';
            } else if (profile.level === 'iniciante-intermediario') {
                return 'Praticar transi√ß√µes entre acordes com formas semelhantes, identificando dedos "√¢ncora" que podem permanecer no mesmo lugar durante a mudan√ßa.';
            } else {
                return 'Trabalhar em transi√ß√µes r√°pidas entre acordes distantes no bra√ßo do viol√£o. Praticar progress√µes completas com metr√¥nomo, aumentando gradualmente a velocidade.';
            }
        }

        function getSingAndPlayDescription(profile) {
            return 'Exerc√≠cios para desenvolver a independ√™ncia entre voz e m√£os. Come√ßar com progress√µes simples e melodias f√°ceis, mantendo o foco na regularidade do acompanhamento enquanto canta.';
        }

        function getMusicTheoryDescription(profile) {
            if (profile.level === 'iniciante' || profile.level === 'iniciante-intermediario') {
                return 'Estudo b√°sico do c√≠rculo das quintas e forma√ß√£o de acordes maiores e menores. Compreender a rela√ß√£o entre notas e como identificar os acordes no bra√ßo do viol√£o.';
            } else {
                return 'Estudo de forma√ß√£o de escalas e sua aplica√ß√£o pr√°tica no bra√ßo do viol√£o. Compreender campos harm√¥nicos e progress√µes de acordes comuns em diferentes estilos musicais.';
            }
        }

        function getRepertoireDescription(profile) {
            let description = 'Aplicar o conte√∫do da semana em uma m√∫sica completa';

            // Recomenda√ß√µes espec√≠ficas por estilo musical e n√≠vel
            const repertoireSuggestions = {
                'mpb': {
                    'iniciante': ['"Trem-Bala" (Ana Vilela)', '"Essa Tal Liberdade" (Jo√£o Gomes)', '"Velha Inf√¢ncia" (Tribalistas)'],
                    'intermediario': ['"Onde Quer Que Eu V√°" (Paralamas)', '"Gostava Tanto de Voc√™" (Tim Maia)', '"Oceano" (Djavan)'],
                    'avancado': ['"Sampa" (Caetano Veloso)', '"√Åguas de Mar√ßo" (Tom Jobim)', '"Timoneiro" (Paulinho da Viola)']
                },
                'rock': {
                    'iniciante': ['"Love Me Do" (Beatles)', '"Patience" (Guns N\' Roses)', '"About a Girl" (Nirvana)'],
                    'intermediario': ['"Wish You Were Here" (Pink Floyd)', '"Wonderwall" (Oasis)', '"Sweet Child O\' Mine" (riff inicial)'],
                    'avancado': ['"Nothing Else Matters" (Metallica)', '"Stairway to Heaven" (Led Zeppelin)', '"Hotel California" (Eagles)']
                },
                'pop': {
                    'iniciante': ['"Viva La Vida" (Coldplay)', '"Let It Be" (Beatles)', '"Stand By Me" (Ben E. King)'],
                    'intermediario': ['"Perfect" (Ed Sheeran)', '"Yellow" (Coldplay)', '"Hallelujah" (Leonard Cohen)'],
                    'avancado': ['"Someone Like You" (Adele)', '"Thinking Out Loud" (Ed Sheeran)', '"Bad Guy" (Billie Eilish)']
                },
                'sertanejo': {
                    'iniciante': ['"Evid√™ncias" (Chit√£ozinho e Xoror√≥)', '"Saudade da Minha Terra" (Chit√£ozinho e Xoror√≥)', '"Boate Azul" (Bruno e Marrone)'],
                    'intermediario': ['"Todo Mundo Vai Sofrer" (Mar√≠lia Mendon√ßa)', '"Sino de Paz" (Chit√£ozinho e Xoror√≥)', '"Cheia de Manias" (Ra√ßa Negra)'],
                    'avancado': ['"Romaria" (Renato Teixeira)', '"60 Dias Apaixonado" (Edson e Hudson)', '"Ainda Ontem Chorei de Saudade" (Jo√£o Mineiro e Marciano)']
                },
                'bossa-nova': {
                    'iniciante': ['"Garota de Ipanema" (vers√£o simplificada)', '"Samba de Ver√£o" (vers√£o simplificada)', '"O Barquinho" (vers√£o b√°sica)'],
                    'intermediario': ['"Chega de Saudade" (Tom Jobim)', '"Desafinado" (Tom Jobim)', '"Wave" (Tom Jobim)'],
                    'avancado': ['"Samba de Uma Nota S√≥" (Tom Jobim)', '"Corcovado" (Tom Jobim)', '"Insensatez" (Tom Jobim)']
                },
                'fingerstyle': {
                    'iniciante': ['"Romance An√¥nimo" (vers√£o simplificada)', '"Greensleeves" (tradicional)', '"Amazing Grace" (arranjo simples)'],
                    'intermediario': ['"Dust in the Wind" (Kansas)', '"Blackbird" (Beatles)', '"Tears in Heaven" (Eric Clapton)'],
                    'avancado': ['"Canon in D" (Pachelbel)', '"Classical Gas" (Mason Williams)', '"Asturias" (Isaac Alb√©niz)']
                },
                'classico': {
                    'iniciante': ['"Spanish Romance" (An√¥nimo)', '"Estudo Op. 60, No. 1" (Matteo Carcassi)', '"L√°grima" (Francisco T√°rrega)'],
                    'intermediario': ['"Adelita" (Francisco T√°rrega)', '"Estudo Op. 35, No. 13" (Fernando Sor)', '"Capricho √Årabe" (Francisco T√°rrega)'],
                    'avancado': ['"Recuerdos de la Alhambra" (Francisco T√°rrega)', '"Asturias" (Isaac Alb√©niz)', '"Concierto de Aranjuez" (Joaqu√≠n Rodrigo)']
                }
            };

            // Determinar categoria de n√≠vel
            let levelCategory = 'iniciante';
            if (profile.level === 'intermediario' || profile.level === 'iniciante-intermediario') {
                levelCategory = 'intermediario';
            } else if (profile.level === 'intermediario-avancado' || profile.level === 'avancado') {
                levelCategory = 'avancado';
            }

            // Adicionar sugest√£o de repert√≥rio personalizada
            if (repertoireSuggestions[profile.musicalStyle] &&
                repertoireSuggestions[profile.musicalStyle][levelCategory]) {

                const suggestions = repertoireSuggestions[profile.musicalStyle][levelCategory];
                description += '. Sugest√µes: ' + suggestions.join(', ');
            } else {
                description += `. Sugest√£o: ${levelCategory === 'iniciante' ? '"Trem-Bala" (Ana Vilela) ou "Viva La Vida" (Coldplay)' : 'uma m√∫sica de sua prefer√™ncia que utilize os conceitos trabalhados'}`;
            }

            // Personalizar por instrumento se aplic√°vel
            if (profile.instrumentType === 'violao-aco' && (profile.musicalStyle === 'sertanejo' || profile.musicalStyle === 'rock')) {
                description += '. Seu viol√£o de a√ßo √© ideal para este estilo!';
            } else if (profile.instrumentType === 'violao-nylon' && (profile.musicalStyle === 'classico' || profile.musicalStyle === 'bossa-nova')) {
                description += '. Seu viol√£o de nylon √© perfeito para este g√™nero!';
            }

            return description + '.';
        }

        function getSoloDescription(profile) {
            if (profile.level === 'iniciante' || profile.level === 'iniciante-intermediario') {
                return 'Introdu√ß√£o aos solos simples usando a escala pentat√¥nica maior. Praticar frases curtas sobre progress√µes b√°sicas, focando na precis√£o das notas.';
            } else {
                return 'Desenvolvimento de solos improvisados usando escalas maiores e menores. Trabalhar t√©cnicas de express√£o como bends, slides e hammer-ons para criar frases mais musicais.';
            }
        }

        function getReadingDescription(profile) {
            if (profile.level === 'iniciante' || profile.level === 'iniciante-intermediario') {
                return 'Estudo b√°sico de tablatura, identificando cordas, casas e t√©cnicas simples. Praticar leitura de trechos curtos, focando na precis√£o da execu√ß√£o.';
            } else {
                return 'Desenvolvimento da leitura de partituras e tablaturas mais complexas. Trabalhar a capacidade de ler e executar em tempo real, com aten√ß√£o a din√¢micas e express√£o.';
            }
        }

        // Get appropriate duration based on user's time commitment
        function getDurationForLevel(timeCommitment, goal) {
            const baseMap = {
                'muito-pouco': 15,
                'pouco': 20,
                'medio': 30,
                'alto': 45,
                'muito-alto': 60
            };

            let base = baseMap[timeCommitment] || 30;

            // Adjust for specific goals that podem need more time
            if (goal === 'repertorio') {
                base = Math.min(base * 1.5, 60);
            }

            return base;
        }

        // Get material recommendation based on goal and profile
        function getMaterialRecommendation(profile, goal) {
            const materials = {
                'acordes-basicos': {
                    iniciante: 'Video tutorial "Primeiros Acordes no Viol√£o" (M√≥dulo 1)',
                    intermediario: 'Video tutorial "Transi√ß√µes fluidas entre acordes" (M√≥dulo 2)',
                    avancado: 'Guia de acordes com invers√µes e voicings alternativos'
                },
                'batidas-ritmos': {
                    iniciante: 'Video tutorial "Batidas Iniciais Para Viol√£o" (M√≥dulo 1)',
                    intermediario: 'Exerc√≠cio "Batida vers√°til para diversos g√™neros" (M√≥dulo 3)',
                    avancado: 'Workshop "Ritmos Avan√ßados e S√≠ncopes" (Se√ß√£o Especializada)'
                },
                'dedilhado': {
                    iniciante: 'Exerc√≠cios de aquecimento do m√≥dulo "Primeiros Dedilhados"',
                    intermediario: 'Exerc√≠cios de aquecimento do m√≥dulo "Destravando os Dedos"',
                    avancado: 'Livro digital "T√©cnicas de Fingerstyle: Do B√°sico ao Avan√ßado"'
                }
            };

            // Map user level to simplified categories
            let levelCategory = 'iniciante';
            if (profile.level === 'intermediario' || profile.level === 'iniciante-intermediario') {
                levelCategory = 'intermediario';
            } else if (profile.level === 'intermediario-avancado' || profile.level === 'avancado') {
                levelCategory = 'avancado';
            }

            // Return specific recommendation if available
            if (materials[goal] && materials[goal][levelCategory]) {
                return materials[goal][levelCategory];
            }

            // Generic recommendations for other goals
            if (levelCategory === 'iniciante') {
                return `Aula "${goal}" da se√ß√£o para iniciantes do curso`;
            } else if (levelCategory === 'intermediario') {
                return `Tutorial interativo sobre "${goal}" do M√≥dulo Intermedi√°rio`;
            } else {
                return `Workshop especializado sobre "${goal}" na √Årea Avan√ßada`;
            }
        }

        // Adicionar personaliza√ß√£o espec√≠fica por tipo de instrumento
        function customizeByInstrument(description, profile) {
            // Adicionar dicas espec√≠ficas com base no tipo de viol√£o
            let customized = description;

            if (profile.instrumentType === 'violao-nylon') {
                // Adicionar dicas para viol√£o de nylon
                if (profile.goals.includes('dedilhado')) {
                    customized += ' Com viol√£o de nylon, trabalhe na postura cl√°ssica (√¢ngulo de 45¬∞ na perna esquerda) para melhor acesso √†s cordas.';
                } else if (profile.goals.includes('batidas-ritmos')) {
                    customized += ' Nas batidas, com viol√£o de nylon pode-se usar menos for√ßa, focando mais na precis√£o dos ataques.';
                }
            } else if (profile.instrumentType === 'violao-aco') {
                // Adicionar dicas para viol√£o de a√ßo
                if (profile.goals.includes('dedilhado')) {
                    customized += ' Para viol√£o de a√ßo, considere usar dedeiras (finger picks) para um ataque mais presente nos dedilhados.';
                } else if (profile.goals.includes('batidas-ritmos')) {
                    customized += ' Com cordas de a√ßo, trabalhe a din√¢mica nas batidas alternando entre toques suaves e mais presentes para maior expressividade.';
                } else if (profile.goals.includes('acordes-pestana')) {
                    customized += ' Em viol√µes de a√ßo, aplique mais press√£o na pestana e posicione o polegar mais alto no bra√ßo para maior alavancagem.';
                }
            } else if (profile.instrumentType === 'violao-12-cordas') {
                // Adicionar dicas para viol√£o de 12 cordas
                customized += ' Com 12 cordas, dedique mais tempo para afinar corretamente o instrumento antes de cada sess√£o e use um pouco mais de press√£o nos acordes.';
            }

            return customized;
        }

        // Update the result view with the personalized plan
        function updateResultView(plan, profile) {
            // Update welcome message
            document.querySelector('.ai-message p:first-child').textContent = plan.message;

            // Inicializa barra de progresso semanal
            const progressFill = document.querySelector('.mini-progress-fill');
            progressFill.style.width = '0%';

            // Anima√ß√£o de progresso ap√≥s 1 segundo
            setTimeout(() => {
                progressFill.style.width = '15%';
                document.querySelector('.progress-text').textContent = 'Semana 1: Construindo fundamentos';
            }, 1000);

            // Clear existing schedule
            const scheduleContainer = document.querySelector('.schedule');
            scheduleContainer.innerHTML = '';

            // Add each day's session to the schedule
            plan.dailySessions.forEach((daySession, index) => {
                const dayElement = document.createElement('div');
                dayElement.className = 'schedule-day';

                // Create day header
                const dayHeader = document.createElement('div');
                dayHeader.className = 'schedule-day-header';
                dayHeader.textContent = daySession.day;
                dayElement.appendChild(dayHeader);

                // Create practice session
                const practiceSession = document.createElement('div');
                practiceSession.className = 'practice-session';

                // Time display
                const timeDisplay = document.createElement('div');
                timeDisplay.className = 'session-time';
                timeDisplay.textContent = `${translateTime(daySession.time)} - ${daySession.duration} minutos`;
                practiceSession.appendChild(timeDisplay);

                // Add each focus area for the day
                daySession.sessions.forEach(session => {
                    const focusArea = document.createElement('div');
                    focusArea.className = 'session-focus';

                    // Session title with difficulty
                    const titleEl = document.createElement('h4');
                    titleEl.innerHTML = `${session.title} <span class="difficulty-indicator">${getStarRating(session.difficulty)}</span>`;
                    focusArea.appendChild(titleEl);

                    // Session description
                    const descEl = document.createElement('p');
                    descEl.textContent = session.description;
                    focusArea.appendChild(descEl);

                    // Material recommendation
                    const materialEl = document.createElement('p');
                    materialEl.innerHTML = `<strong>Material recomendado:</strong> ${session.material}`;
                    focusArea.appendChild(materialEl);

                    // Adicionar bot√£o de conclu√≠do
                    const completeBtn = document.createElement('button');
                    completeBtn.className = 'complete-btn';
                    completeBtn.innerHTML = '<i class="fas fa-check"></i> Marcar como conclu√≠do';
                    completeBtn.onclick = function () {
                        this.classList.toggle('completed');
                        if (this.classList.contains('completed')) {
                            this.innerHTML = '<i class="fas fa-check-double"></i> Conclu√≠do!';
                            // Atualizar progresso
                            const currentProgress = parseInt(progressFill.style.width) || 15;
                            const newProgress = Math.min(currentProgress + 5, 100);
                            progressFill.style.width = `${newProgress}%`;
                        } else {
                            this.innerHTML = '<i class="fas fa-check"></i> Marcar como conclu√≠do';
                        }
                        updateProgressStats();
                    };
                    focusArea.appendChild(completeBtn);

                    practiceSession.appendChild(focusArea);
                });

                dayElement.appendChild(practiceSession);
                scheduleContainer.appendChild(dayElement);
            });

            // Adicionar resumo de estat√≠sticas ao final
            addStatisticsSummary(plan, profile);
        }

        // Helper function to convert time period to display text
        function translateTime(timePeriod) {
            const timeMap = {
                'manha': 'Manh√£',
                'tarde': 'Tarde',
                'noite': 'Noite'
            };
            return timeMap[timePeriod] || timePeriod;
        }

        // Helper function to generate star rating based on difficulty
        function getStarRating(difficulty) {
            const fullStar = '<i class="fas fa-star"></i>';
            const halfStar = '<i class="fas fa-star-half-alt"></i>';
            const emptyStar = '<i class="far fa-star"></i>';

            let stars = '';

            // Convert numeric difficulty to visual representation
            if (difficulty >= 5) {
                // Muito dif√≠cil
                stars = fullStar.repeat(5);
            } else if (difficulty >= 4.5) {
                stars = fullStar.repeat(4) + halfStar;
            } else if (difficulty >= 4) {
                stars = fullStar.repeat(4) + emptyStar;
            } else if (difficulty >= 3.5) {
                stars = fullStar.repeat(3) + halfStar + emptyStar;
            } else if (difficulty >= 3) {
                stars = fullStar.repeat(3) + emptyStar.repeat(2);
            } else if (difficulty >= 2.5) {
                stars = fullStar.repeat(2) + halfStar + emptyStar.repeat(2);
            } else if (difficulty >= 2) {
                stars = fullStar.repeat(2) + emptyStar.repeat(3);
            } else if (difficulty >= 1.5) {
                stars = fullStar + halfStar + emptyStar.repeat(3);
            } else if (difficulty >= 1) {
                stars = fullStar + emptyStar.repeat(4);
            } else if (difficulty >= 0.5) {
                stars = halfStar + emptyStar.repeat(4);
            } else {
                stars = emptyStar.repeat(5);
            }

            return stars;
        }

        function resetToHome() {
            // Hide results
            document.getElementById('result').classList.remove('active');

            // Reset to step 1
            currentStep = 1;

            // Show progress container again
            document.querySelector('.progress-container').style.display = 'block';

            // Reset progress bar
            document.querySelector('.progress-bar').style.width = '20%';

            // Reset step indicators
            document.querySelectorAll('.step-indicator').forEach((indicator, index) => {
                indicator.classList.remove('active');
                indicator.classList.remove('completed');
                if (index === 0) {
                    indicator.classList.add('active');
                }
            });

            // Show first step
            document.getElementById('step1').classList.add('active');

            // Reset form fields (optional)
            document.getElementById('level').selectedIndex = 0;
            document.querySelectorAll('input[name="goals"]:checked').forEach(checkbox => {
                checkbox.checked = false;
            });
            document.getElementById('time-commitment').selectedIndex = 2;
            document.querySelectorAll('.time-block.selected').forEach(block => {
                block.classList.remove('selected');
            });
            document.getElementById('additional-info').value = '';

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Fun√ß√£o para adicionar estat√≠sticas no final do plano
        function addStatisticsSummary(plan, profile) {
            const scheduleContainer = document.querySelector('.schedule');

            // Criar se√ß√£o de estat√≠sticas e tempo estimado
            const statsSection = document.createElement('div');
            statsSection.className = 'stats-summary';
            statsSection.style.marginTop = '2rem';
            statsSection.style.padding = '1.5rem';
            statsSection.style.backgroundColor = '#FFF8E1';
            statsSection.style.borderRadius = '10px';
            statsSection.style.boxShadow = '0 3px 10px rgba(139, 69, 19, 0.08)';

            // T√≠tulo
            const statsTitle = document.createElement('h3');
            statsTitle.textContent = 'Estat√≠sticas do Seu Plano';
            statsTitle.style.marginBottom = '1rem';
            statsTitle.style.color = 'var(--primary-color)';
            statsSection.appendChild(statsTitle);

            // Calcular tempo total de pr√°tica
            const totalMinutes = plan.dailySessions.reduce((sum, day) => sum + day.duration, 0);
            const hoursPerWeek = Math.floor(totalMinutes / 60);
            const minutesPerWeek = totalMinutes % 60;

            // Tempo total
            const timeStats = document.createElement('p');
            timeStats.innerHTML = `<strong>Tempo total de pr√°tica semanal:</strong> ${hoursPerWeek > 0 ? hoursPerWeek + ' hora(s) e ' : ''}${minutesPerWeek} minutos`;
            statsSection.appendChild(timeStats);

            // Dias de pr√°tica
            const daysStats = document.createElement('p');
            daysStats.innerHTML = `<strong>Dias de pr√°tica por semana:</strong> ${plan.dailySessions.length}`;
            statsSection.appendChild(daysStats);

            // Estimativa de progresso
            const progressEstimate = document.createElement('p');
            progressEstimate.innerHTML = `<strong>Tempo para resultados vis√≠veis:</strong> ${getProgressEstimate(profile)}`;
            statsSection.appendChild(progressEstimate);

            // Dica personalizada baseada no perfil
            const personalTip = document.createElement('div');
            personalTip.className = 'personal-tip';
            personalTip.style.marginTop = '1rem';
            personalTip.style.padding = '1rem';
            personalTip.style.backgroundColor = 'white';
            personalTip.style.borderLeft = '4px solid var(--accent-color)';
            personalTip.style.borderRadius = '4px';

            personalTip.innerHTML = `<strong>üí° Dica personalizada:</strong> ${getPersonalizedTip(profile)}`;
            statsSection.appendChild(personalTip);

            // Adicionar ao container
            scheduleContainer.appendChild(statsSection);
        }

        // Fun√ß√£o para obter estimativa de progresso com base no perfil
        function getProgressEstimate(profile) {
            if (profile.timeCommitment === 'muito-pouco') {
                return 'Cerca de 10-12 semanas para resultados not√°veis';
            } else if (profile.timeCommitment === 'pouco') {
                return 'Aproximadamente 8 semanas para resultados significativos';
            } else if (profile.timeCommitment === 'medio') {
                return 'Cerca de 6 semanas para resultados consistentes';
            } else if (profile.timeCommitment === 'alto') {
                return 'Entre 3-4 semanas para resultados vis√≠veis';
            } else {
                return 'Aproximadamente 2-3 semanas para melhorias not√°veis';
            }
        }

        // Fun√ß√£o para obter dica personalizada com base no perfil
        function getPersonalizedTip(profile) {
            if (profile.instrumentType === 'violao-nylon') {
                return 'Com seu viol√£o de nylon, trabalhe na postura cl√°ssica para obter melhor proje√ß√£o sonora. Posicione o viol√£o com o p√© esquerdo levemente elevado (use um apoio de p√© ou um livro grosso) para melhor ergonomia.';
            } else if (profile.instrumentType === 'violao-aco') {
                return 'Viol√µes de a√ßo exigem mais for√ßa nos dedos. Fa√ßa pausas frequentes no in√≠cio para n√£o sobrecarregar os dedos e considere cordas de tens√£o mais leve se sentir desconforto. A palhetada alternada pode ajudar a economizar energia nos ritmos mais intensos.';
            } else if (profile.goals.includes('acordes-pestana')) {
                return 'Para dominar as pestanas mais rapidamente, trabalhe primeiro no posicionamento correto do polegar (atr√°s do bra√ßo) e tente usar o lado do dedo indicador, n√£o a ponta. Comece praticando apenas a pestana, sem os outros dedos, at√© conseguir um som limpo.';
            } else if (profile.level === 'iniciante') {
                return 'Nos primeiros meses, foque em desenvolver calos nas pontas dos dedos e na for√ßa b√°sica. Pare antes de sentir dor e aumente gradualmente o tempo de pr√°tica. Grave-se tocando no in√≠cio e compare ap√≥s um m√™s - voc√™ ficar√° surpreso com seu progresso!';
            } else {
                return 'Alterne entre pr√°tica t√©cnica focada e pr√°tica musical divertida. Isolamento de t√©cnicas √© importante, mas tocar m√∫sicas completas traz satisfa√ß√£o e motiva√ß√£o. Tente dedicar ao menos 20% do seu tempo para simplesmente tocar o que voc√™ gosta.';
            }
        }

        // Fun√ß√£o para atualizar estat√≠sticas de progresso
        function updateProgressStats() {
            // Contar itens completos
            const completeButtons = document.querySelectorAll('.complete-btn.completed');
            const totalButtons = document.querySelectorAll('.complete-btn');
            const percentComplete = Math.round((completeButtons.length / totalButtons.length) * 100);

            // Atualizar texto de progresso baseado no percentual completado
            const progressText = document.querySelector('.progress-text');

            if (percentComplete >= 75) {
                progressText.textContent = 'Excelente progresso! Continue assim!';
            } else if (percentComplete >= 50) {
                progressText.textContent = '√ìtimo trabalho! Mais da metade conclu√≠da.';
            } else if (percentComplete >= 25) {
                progressText.textContent = 'Bom progresso! Continue praticando regularmente.';
            } else if (percentComplete > 0) {
                progressText.textContent = 'Voc√™ come√ßou! Mantenha a consist√™ncia.';
            }

            // Salvar progresso no armazenamento local
            localStorage.setItem('plannerProgress', percentComplete.toString());
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function () {
            // Carregar progresso anterior se existir
            const savedProgress = localStorage.getItem('plannerProgress');
            if (savedProgress) {
                const progressFill = document.querySelector('.mini-progress-fill');
                if (progressFill) {
                    progressFill.style.width = `${savedProgress}%`;

                    // Atualizar texto com base no progresso
                    const progressText = document.querySelector('.progress-text');
                    if (progressText) {
                        if (parseInt(savedProgress) >= 75) {
                            progressText.textContent = 'Excelente progresso! Continue assim!';
                        } else if (parseInt(savedProgress) >= 50) {
                            progressText.textContent = '√ìtimo trabalho! Mais da metade conclu√≠da.';
                        } else if (parseInt(savedProgress) >= 25) {
                            progressText.textContent = 'Bom progresso! Continue praticando regularmente.';
                        } else {
                            progressText.textContent = 'Continue praticando! Voc√™ est√° no caminho certo.';
                        }
                    }
                }
            }

            // Configurar lembretes de pr√°tica
            const reminderBtn = document.createElement('button');
            reminderBtn.className = 'btn';
            reminderBtn.style.marginTop = '1.5rem';
            reminderBtn.style.width = '100%';
            reminderBtn.style.display = 'flex';
            reminderBtn.style.justifyContent = 'center';
            reminderBtn.style.alignItems = 'center';
            reminderBtn.style.gap = '10px';
            reminderBtn.innerHTML = '<i class="fas fa-bell"></i> Ativar lembretes de pr√°tica';

            // Adicionar o bot√£o ap√≥s o resultado da IA ser mostrado
            reminderBtn.addEventListener('click', function () {
                if (Notification.permission !== 'granted') {
                    Notification.requestPermission().then(permission => {
                        if (permission === 'granted') {
                            setupReminders();
                            this.innerHTML = '<i class="fas fa-bell"></i> Lembretes ativados!';
                            this.disabled = true;
                        }
                    });
                } else {
                    setupReminders();
                    this.innerHTML = '<i class="fas fa-bell"></i> Lembretes ativados!';
                    this.disabled = true;
                }
            });

            // Verificar e adicionar bot√£o quando o resultado √© mostrado
            const observer = new MutationObserver((mutations) => {
                mutations.forEach((mutation) => {
                    if (mutation.type === 'attributes' &&
                        mutation.attributeName === 'class' &&
                        document.getElementById('result').classList.contains('active')) {

                        const scheduleContainer = document.querySelector('.schedule');
                        if (scheduleContainer && !document.querySelector('.reminder-btn')) {
                            reminderBtn.classList.add('reminder-btn');
                            scheduleContainer.appendChild(reminderBtn);
                        }
                    }
                });
            });

            observer.observe(document.getElementById('result'), { attributes: true });
        });

        // Fun√ß√£o para configurar lembretes de pr√°tica
        function setupReminders() {
            // Obter dias da semana do plano
            const scheduleDays = document.querySelectorAll('.schedule-day-header');
            const days = Array.from(scheduleDays).map(day => day.textContent.trim());

            // Mapear dias para n√∫meros (0 = Domingo, 6 = S√°bado)
            const dayMapping = {
                'Segunda-feira': 1,
                'Ter√ßa-feira': 2,
                'Quarta-feira': 3,
                'Quinta-feira': 4,
                'Sexta-feira': 5,
                'S√°bado': 6,
                'Domingo': 0
            };

            // Configurar lembretes para cada dia do plano
            days.forEach(day => {
                const dayNumber = dayMapping[day];
                if (dayNumber !== undefined) {
                    const timeBlock = document.querySelector(`.schedule-day:nth-child(${days.indexOf(day) + 1}) .session-time`);
                    let timeOfDay = 'noite'; // padr√£o

                    if (timeBlock) {
                        if (timeBlock.textContent.includes('Manh√£')) {
                            timeOfDay = 'manh√£';
                        } else if (timeBlock.textContent.includes('Tarde')) {
                            timeOfDay = 'tarde';
                        }
                    }

                    scheduleNotification(day, dayNumber, timeOfDay);
                }
            });

            // Fornecer feedback ao usu√°rio
            alert('Lembretes configurados para seus dias de pr√°tica! Voc√™ receber√° notifica√ß√µes nos dias e hor√°rios programados.');
        }

        // Fun√ß√£o para agendar notifica√ß√µes
        function scheduleNotification(dayName, dayNumber, timeOfDay) {
            // Determinar hora da notifica√ß√£o com base no per√≠odo do dia
            let hour;
            if (timeOfDay === 'manh√£') {
                hour = 9;
            } else if (timeOfDay === 'tarde') {
                hour = 15;
            } else {
                hour = 19;
            }

            // Calcular pr√≥xima ocorr√™ncia deste dia da semana
            const now = new Date();
            const currentDay = now.getDay();
            let daysUntilNext = dayNumber - currentDay;
            if (daysUntilNext <= 0) {
                daysUntilNext += 7;
            }

            const notificationDate = new Date();
            notificationDate.setDate(now.getDate() + daysUntilNext);
            notificationDate.setHours(hour, 0, 0, 0);

            // Armazenar no localStorage para recriar ap√≥s p√°gina recarregada
            const reminderKey = `reminder_${dayName}`;
            localStorage.setItem(reminderKey, JSON.stringify({
                day: dayName,
                timeOfDay: timeOfDay,
                nextNotification: notificationDate.toISOString()
            }));

            // Disparar notifica√ß√£o quando for a hora (em uma aplica√ß√£o real, isso precisaria de um service worker)
            const timeUntilNotification = notificationDate.getTime() - now.getTime();
            if (timeUntilNotification > 0) {
                setTimeout(() => {
                    if (Notification.permission === 'granted') {
                        const notification = new Notification('Lembrete de Pr√°tica de Viol√£o', {
                            body: `Hora de praticar viol√£o! Seu plano para ${dayName} est√° esperando por voc√™.`,
                            icon: '/img/icon-192.svg'
                        });

                        // Reagendar para pr√≥xima semana
                        scheduleNotification(dayName, dayNumber, timeOfDay);
                    }
                }, timeUntilNotification);
            }
        }
    </script>
</body>

</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Treino Musical - Quiz Interativo de Cifras e Acordes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #8B4513; /* Marrom escuro (Saddlebrown) */
            --primary-dark: #6B3309; /* Marrom mais intenso */
            --secondary-color: #A0522D; /* Sienna - conforme solicitado */
            --accent-color: #CD853F; /* Peru - conforme solicitado */
            --accent-light: #D2B48C; /* Tom claro para detalhes sutis (Tan) */
            --success-color: #2E8B57; /* Verde-escuro mais elegante */
            --error-color: #A52A2A; /* Marrom-avermelhado mais vibrante */
            --text-color: #3E2723; /* Marrom muito escuro para texto */
            --dark-text: #5D4037; /* Conforme solicitado */
            --text-light: #A1887F; /* Texto mais claro */
            --light-text: #fff; /* Texto claro - conforme solicitado */
            --light-bg: #FAF0E6; /* Fundo linen - conforme solicitado */
            --border-color: #DEB887; /* Burlywood - conforme solicitado */
            --shadow: 0 8px 16px rgba(139, 69, 19, 0.15); /* Conforme solicitado */
            --border-radius: 12px; /* Conforme solicitado */
            --card-gradient: linear-gradient(145deg, #ffffff, #f8f0e5);
            --card-shadow: 0 8px 20px rgba(139, 69, 19, 0.12), 0 3px 10px rgba(139, 69, 19, 0.08);
            --button-gradient: linear-gradient(145deg, #A0522D, #8B4513);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', 'Inter', sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--light-bg);
            padding-bottom: 60px;
        }
        
        .home-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background-color: #8B5A2B; /* Ajustado para o tom de marrom mais pr√≥ximo da imagem */
            border-radius: 50%;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px; /* Aumentado o tamanho do √≠cone */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            text-decoration: none;
            z-index: 100;
            transition: all 0.3s ease;
            border: none;
        }
        
        .home-button:hover {
            transform: scale(1.1);
            background-color: #7a3b10;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
        }
        
        header {
            background-color: var(--primary-color);
            background-image: linear-gradient(to bottom right, var(--primary-color), var(--primary-dark));
            color: white;
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 30px;
            position: relative;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        h2 {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin: 30px 0 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-light);
        }
        
        h3 {
            font-size: 1.4rem;
            color: var(--secondary-color);
            margin: 25px 0 15px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .intro {
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }
        
        .game-container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }
        
        .dashboard {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .score-container, .level-container, .streak-container {
            text-align: center;
            flex: 1;
            background: var(--light-bg);
            padding: 15px;
            border-radius: 12px;
            margin: 0 8px;
            box-shadow: inset 2px 2px 5px rgba(93, 64, 55, 0.1);
            transition: all 0.3s ease;
        }
        
        .score-container:hover, .level-container:hover, .streak-container:hover {
            transform: translateY(-5px);
        }
        
        .score-label, .level-label, .streak-label {
            font-size: 0.95rem;
            font-weight: 700;
            color: var(--secondary-color);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .score, .level, .streak {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--primary-color);
        }
        
        .progress-container {
            width: 100%;
            height: 10px;
            background-color: rgba(93, 64, 55, 0.1);
            border-radius: 20px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary-color), var(--accent-color));
            border-radius: 20px;
            width: 25%; /* Exemplo inicial */
            transition: width 0.5s ease;
        }
        
        .quiz-box {
            padding: 30px;
            background: var(--card-gradient);
            border-radius: 16px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            transition: all 0.5s ease;
        }
        
        .feedback {
            margin: 20px 0;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
            display: none;
            transform: translateY(10px);
        }
        
        .feedback.show {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        .feedback.correct {
            background-color: rgba(109, 76, 48, 0.15);
            border: 1px solid rgba(109, 76, 48, 0.3);
            color: var(--success-color);
        }
        
        .feedback.incorrect {
            background-color: rgba(139, 62, 47, 0.15);
            border: 1px solid rgba(139, 62, 47, 0.3);
            color: var(--error-color);
        }
        
        .question {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 25px;
            text-align: center;
            line-height: 1.4;
            color: var(--primary-color);
        }
        
        .chord-display {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .chord-diagram {
            width: 220px;
            height: 270px;
            margin: 0 auto;
            position: relative;
            background-color: white;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            padding: 25px;
            box-shadow: 0 6px 12px rgba(93, 64, 55, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .chord-diagram:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(93, 64, 55, 0.15);
        }
        
        .chord-name {
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary-color);
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .option-button {
            padding: 16px;
            background: white;
            border: 2px solid var(--accent-light);
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .option-button:hover {
            background-color: rgba(93, 64, 55, 0.05);
            border-color: var(--secondary-color);
            transform: translateY(-3px);
        }
        
        .option-button.correct {
            background: linear-gradient(145deg, var(--success-color), #614825);
            color: white;
            border-color: var(--success-color);
        }
        
        .option-button.incorrect {
            background: linear-gradient(145deg, var(--error-color), #7a3526);
            color: white;
            border-color: var(--error-color);
        }
        
        .button-container {
            text-align: center;
            margin-top: 30px;
        }
        
        .next-btn {
            padding: 14px 28px;
            background: var(--button-gradient);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(93, 64, 55, 0.3);
        }
        
        .next-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(93, 64, 55, 0.4);
        }
        
        .next-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .category-card {
            background: var(--card-gradient);
            border-radius: 16px;
            padding: 25px 20px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }
        
        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(93, 64, 55, 0.25);
        }
        
        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background-color: var(--secondary-color);
            transition: width 0.3s ease;
        }
        
        .category-card:hover::before {
            width: 8px;
        }
        
        .category-icon {
            font-size: 2.2rem;
            margin-bottom: 15px;
            color: var(--primary-color);
            display: inline-block;
        }
        
        .category-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .category-description {
            font-size: 0.95rem;
            color: var(--text-color);
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .category-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--accent-color);
            border-top: 1px solid rgba(93, 64, 55, 0.1);
            padding-top: 12px;
            margin-top: 5px;
        }
        
        .categories-heading {
            font-size: 1.7rem;
            margin-bottom: 25px;
            text-align: center;
            color: var(--primary-color);
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .categories-heading::before,
        .categories-heading::after {
            content: "";
            flex: 1;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
        }
        
        .categories-heading::before {
            margin-right: 20px;
        }
        
        .categories-heading::after {
            margin-left: 20px;
        }
        
        .challenges {
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }
        
        .challenge-card {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border-left: 3px solid var(--accent-light);
        }
        
        .challenge-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(93, 64, 55, 0.2);
            border-left: 3px solid var(--secondary-color);
        }
        
        .challenge-icon {
            width: 60px;
            height: 60px;
            background-color: rgba(93, 64, 55, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            color: var(--secondary-color);
            font-size: 24px;
        }
        
        .challenge-info {
            flex: 1;
        }
        
        .challenge-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--primary-color);
        }
        
        .challenge-description {
            font-size: 0.9rem;
            color: var(--text-color);
            margin-bottom: 10px;
        }
        
        .challenge-progress {
            background-color: var(--light-bg);
            border-radius: 20px;
            padding: 4px;
            height: 24px;
            position: relative;
        }
        
        .progress-fill {
            background: linear-gradient(to right, var(--secondary-color), var(--accent-color));
            height: 100%;
            border-radius: 20px;
        }
        
        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--text-color);
            font-size: 0.8rem;
            font-weight: 700;
        }
        
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .achievement-item {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }
        
        .achievement-item:hover {
            transform: translateY(-5px);
        }
        
        .achievement-badge {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #EFEBE9, #D7CCC8);
            box-shadow: inset 0 0 0 2px rgba(93, 64, 55, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: var(--primary-color);
            font-size: 2rem;
        }
        
        .achievement-badge.locked {
            background: var(--locked-bg);
            color: var(--locked-color);
            box-shadow: none;
        }
        
        .achievement-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .achievement-description {
            font-size: 0.85rem;
            color: var(--text-color);
        }
        
        footer {
            background-color: var(--primary-dark);
            color: var(--accent-light);
            margin-top: 50px;
            padding: 20px 0;
            text-align: center;
            border-top: 1px solid var(--border-color);
        }
        
        @media (max-width: 768px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard {
                flex-direction: column;
                gap: 15px;
            }
            
            .category-card {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <a href="../../index.html" class="home-button"><i class="fas fa-home"></i></a>
    <header>
        <div class="container">
            <h1>üéÆ Jogo de Treino Musical</h1>
            <p class="subtitle">Quiz Interativo de Cifras e Acordes</p>
        </div>
    </header>
    
    <div class="container">
        <section class="intro">
            <h2>Como Jogar</h2>
            <p>Teste seus conhecimentos sobre acordes e cifras de forma divertida! Este jogo foi desenvolvido para ajudar voc√™ a memorizar e reconhecer acordes, progress√µes e elementos musicais de forma interativa e envolvente.</p>
            <p>Acerte as quest√µes para ganhar pontos e desbloquear conquistas que mostrar√£o seu progresso como violonista!</p>
        </section>
        
        <section class="game-container">
            <div class="dashboard">
                <div class="level-container">
                    <div class="level-label">N√≠vel</div>
                    <div class="level">1</div>
                    <div class="progress-container">
                        <div class="progress-bar"></div>
                    </div>
                </div>
                <div class="score-container">
                    <div class="score-label">Pontua√ß√£o</div>
                    <div class="score">0</div>
                </div>
                <div class="streak-container">
                    <div class="streak-label">Sequ√™ncia</div>
                    <div class="streak">0</div>
                </div>
            </div>
            
            <h3 class="categories-heading">Selecione uma categoria:</h3>
            <div class="categories">
                <div class="category-card" data-category="acordes-basicos">
                    <div class="category-icon">üé∏</div>
                    <div class="category-title">Acordes B√°sicos</div>
                    <div class="category-description">Aprenda os acordes fundamentais para iniciantes no viol√£o</div>
                    <div class="category-info">
                        <div>10 quest√µes</div>
                        <div>Iniciante</div>
                    </div>
                </div>
                <div class="category-card" data-category="acordes-intermediarios">
                    <div class="category-icon">ü§ò</div>
                    <div class="category-title">Acordes Intermedi√°rios</div>
                    <div class="category-description">Domine acordes com s√©tima, pestanas e varia√ß√µes</div>
                    <div class="category-info">
                        <div>10 quest√µes</div>
                        <div>Intermedi√°rio</div>
                    </div>
                </div>
                <div class="category-card" data-category="progressoes">
                    <div class="category-icon">üéº</div>
                    <div class="category-title">Progress√µes Harm√¥nicas</div>
                    <div class="category-description">Identifique progress√µes populares usadas em m√∫sicas</div>
                    <div class="category-info">
                        <div>10 quest√µes</div>
                        <div>Intermedi√°rio</div>
                    </div>
                </div>
                <div class="category-card" data-category="teoria-musical">
                    <div class="category-icon">üìö</div>
                    <div class="category-title">Teoria Musical</div>
                    <div class="category-description">Conceitos te√≥ricos essenciais aplicados ao viol√£o</div>
                    <div class="category-info">
                        <div>10 quest√µes</div>
                        <div>Variado</div>
                    </div>
                </div>
                <div class="category-card" data-category="escalas">
                    <div class="category-icon">üéπ</div>
                    <div class="category-title">Escalas Musicais</div>
                    <div class="category-description">Aprenda sobre escalas maiores, menores e modos</div>
                    <div class="category-info">
                        <div>10 quest√µes</div>
                        <div>Intermedi√°rio</div>
                    </div>
                </div>
                <div class="category-card" data-category="ritmos">
                    <div class="category-icon">ü•Å</div>
                    <div class="category-title">Ritmos & Batidas</div>
                    <div class="category-description">Identifique padr√µes r√≠tmicos populares no viol√£o</div>
                    <div class="category-info">
                        <div>10 quest√µes</div>
                        <div>Variado</div>
                    </div>
                </div>
                <div class="category-card" data-category="harmonia-funcional">
                    <div class="category-icon">üé∂</div>
                    <div class="category-title">Harmonia Funcional</div>
                    <div class="category-description">Entenda as fun√ß√µes dos acordes e progress√µes</div>
                    <div class="category-info">
                        <div>10 quest√µes</div>
                        <div>Intermedi√°rio/Avan√ßado</div>
                    </div>
                </div>
                <div class="category-card" data-category="tecnicas-avancadas">
                    <div class="category-icon">üé∏</div>
                    <div class="category-title">T√©cnicas Avan√ßadas</div>
                    <div class="category-description">Teste seus conhecimentos em t√©cnicas como tapping e sweep</div>
                    <div class="category-info">
                        <div>8 quest√µes</div>
                        <div>Avan√ßado</div>
                    </div>
                </div>
            </div>
            
            <div id="quiz-content" style="display: none;">
                <div class="quiz-box">
                    <div class="question">Qual √© este acorde?</div>
                    
                    <div class="chord-display">
                        <div class="chord-diagram">
                            <!-- Aqui vai a visualiza√ß√£o do acorde -->
                            <div class="chord-name">C</div>
                        </div>
                    </div>
                    
                    <div class="feedback" id="feedback"></div>
                    
                    <div class="options-grid"></div>
                    
                    <div class="button-container">
                        <button class="next-btn" onclick="nextQuestion()" disabled>Pr√≥xima Pergunta</button>
                    </div>
                </div>
            </div>
        </section>
    
    </div>
    

    <script>
        // Banco de quest√µes para o quiz
        const quizData = {
            'acordes-basicos': [
                {
                    question: "Qual √© este acorde fundamental (t√¥nica, ter√ßa maior, quinta justa)?",
                    chordName: "C",
                    options: ["C (D√≥ maior)", "Am (L√° menor)", "G (Sol maior)", "F (F√° maior)"],
                    answer: "C (D√≥ maior)"
                },
                {
                    question: "Este acorde √© formado pelas notas Sol, Si e R√©. Como ele √© chamado?",
                    chordName: "G",
                    options: ["D (R√© maior)", "G (Sol maior)", "Em (Mi menor)", "C (D√≥ maior)"],
                    answer: "G (Sol maior)"
                },
                {
                    question: "Qual acorde menor usa as mesmas posi√ß√µes de dedos que o C maior, descendo duas casas?",
                    chordName: "Am",
                    options: ["Em (Mi menor)", "Am (L√° menor)", "Dm (R√© menor)", "A (L√° maior)"],
                    answer: "Am (L√° menor)"
                },
                {
                    question: "Este acorde com pestana na primeira casa √© um dos mais desafiadores para iniciantes:",
                    chordName: "F",
                    options: ["E (Mi maior)", "F (F√° maior)", "G (Sol maior)", "D (R√© maior)"],
                    answer: "F (F√° maior)"
                },
                {
                    question: "Qual √© o acorde formado quando pressionamos apenas as tr√™s primeiras cordas na segunda casa?",
                    chordName: "D",
                    options: ["D (R√© maior)", "A (L√° maior)", "C (D√≥ maior)", "E (Mi maior)"],
                    answer: "D (R√© maior)"
                },
                {
                    question: "Este acorde menor √© frequentemente o primeiro acorde aprendido por muitos violonistas:",
                    chordName: "Em",
                    options: ["Am (L√° menor)", "Dm (R√© menor)", "Em (Mi menor)", "Bm (Si menor)"],
                    answer: "Em (Mi menor)"
                },
                {
                    question: "Qual acorde maior usa tr√™s dedos nas cordas Sol, Si e Mi na segunda casa?",
                    chordName: "A",
                    options: ["E (Mi maior)", "A (L√° maior)", "D (R√© maior)", "G (Sol maior)"],
                    answer: "A (L√° maior)"
                },
                {
                    question: "Este acorde maior aberto √© formado pelas notas Mi, Sol# e Si:",
                    chordName: "E",
                    options: ["E (Mi maior)", "A (L√° maior)", "D (R√© maior)", "G (Sol maior)"],
                    answer: "E (Mi maior)"
                },
                {
                    question: "Qual √© a t√¥nica do acorde de Dm (R√© menor)?",
                    chordName: "Dm T√¥nica",
                    options: ["R√©", "F√°", "L√°", "D√≥"],
                    answer: "R√©"
                },
                {
                    question: "Este acorde √© a vers√£o menor do acorde de G maior:",
                    chordName: "Gm",
                    options: ["Gm (Sol menor)", "Cm (D√≥ menor)", "Dm (R√© menor)", "Am (L√° menor)"],
                    answer: "Gm (Sol menor)"
                },
                {
                    question: "Qual intervalo define um acorde como 'menor' em vez de 'maior'?",
                    chordName: "Intervalo Menor",
                    options: ["Ter√ßa menor", "Quinta justa", "S√©tima maior", "T√¥nica"],
                    answer: "Ter√ßa menor"
                },
                {
                    question: "O acorde de F√° maior (F) geralmente requer qual t√©cnica?",
                    chordName: "F Maior T√©cnica",
                    options: ["Pestana", "Dedilhado", "Slide", "Hammer-on"],
                    answer: "Pestana"
                }
            ],
            'acordes-intermediarios': [
                {
                    question: "Este acorde menor com pestana na segunda casa √© comum em m√∫sicas melanc√≥licas:",
                    chordName: "F#m",
                    options: ["F#m (F√°# menor)", "Bm (Si menor)", "C#m (D√≥# menor)", "F# (F√°# maior)"],
                    answer: "F#m (F√°# menor)"
                },
                {
                    question: "Acorde com s√©tima menor que adiciona tens√£o harm√¥nica interessante:",
                    chordName: "Bm7",
                    options: ["Bm (Si menor)", "Bm7 (Si menor com s√©tima)", "B7 (Si com s√©tima)", "A7 (L√° com s√©tima)"],
                    answer: "Bm7 (Si menor com s√©tima)"
                },
                {
                    question: "Este acorde suspenso (sus4) substitui a ter√ßa pela quarta:",
                    chordName: "Dsus4",
                    options: ["D7 (R√© com s√©tima)", "Dm (R√© menor)", "Dsus4 (R√© suspenso)", "D/F# (R√© com baixo em F√°#)"],
                    answer: "Dsus4 (R√© suspenso)"
                },
                {
                    question: "Acorde dominante com s√©tima muito usado para criar tens√£o antes de voltar √† t√¥nica:",
                    chordName: "E7",
                    options: ["Em7 (Mi menor com s√©tima)", "E7 (Mi com s√©tima)", "Emaj7 (Mi maior com s√©tima)", "E (Mi maior)"],
                    answer: "E7 (Mi com s√©tima)"
                },
                {
                    question: "Acorde com baixo invertido, onde a nota mais grave n√£o √© a t√¥nica:",
                    chordName: "C/G",
                    options: ["C/G (D√≥ com baixo em Sol)", "Cm (D√≥ menor)", "G/B (Sol com baixo em Si)", "C7 (D√≥ com s√©tima)"],
                    answer: "C/G (D√≥ com baixo em Sol)"
                },
                {
                    question: "Qual acorde diminuto √© frequentemente usado como passagem crom√°tica?",
                    chordName: "C#dim",
                    options: ["Cdim (D√≥ diminuto)", "C#dim (D√≥# diminuto)", "Ddim (R√© diminuto)", "Gdim (Sol diminuto)"],
                    answer: "C#dim (D√≥# diminuto)"
                },
                {
                    question: "Este acorde maior com s√©tima maior (maj7) tem uma sonoridade suave, comum em Bossa Nova:",
                    chordName: "Cmaj7",
                    options: ["C7 (D√≥ com s√©tima)", "Cm7 (D√≥ menor com s√©tima)", "Cmaj7 (D√≥ maior com s√©tima maior)", "C6 (D√≥ com sexta)"],
                    answer: "Cmaj7 (D√≥ maior com s√©tima maior)"
                },
                {
                    question: "Acorde menor com s√©tima e quinta diminuta (meio-diminuto), comum em progress√µes ii-V-i menores:",
                    chordName: "Bm7(b5)",
                    options: ["Bm7 (Si menor com s√©tima)", "Bdim (Si diminuto)", "Bm7(b5) (Si meio-diminuto)", "Bbm7 (Si bemol menor com s√©tima)"],
                    answer: "Bm7(b5) (Si meio-diminuto)"
                },
                {
                    question: "Qual acorde √© formado adicionando a sexta maior ao acorde de D√≥ maior?",
                    chordName: "C6",
                    options: ["Cmaj7", "C7", "C6", "Cadd9"],
                    answer: "C6"
                },
                {
                    question: "Este acorde suspenso (sus2) substitui a ter√ßa pela segunda maior:",
                    chordName: "Asus2",
                    options: ["Asus4", "A7sus4", "Asus2", "Aadd9"],
                    answer: "Asus2"
                },
                {
                    question: "Um acorde 'diminuto' (como Cdim) √© formado por quais intervalos sobrepostos?",
                    chordName: "Acorde Diminuto",
                    options: ["Ter√ßas maiores", "Ter√ßas menores", "Quintas justas", "Quartas aumentadas"],
                    answer: "Ter√ßas menores"
                },
                {
                    question: "Qual a diferen√ßa fundamental entre um acorde Cmaj7 e um C7?",
                    chordName: "Cmaj7 vs C7",
                    options: ["A t√¥nica", "A ter√ßa", "A quinta", "A s√©tima"],
                    answer: "A s√©tima"
                }
            ],
            'progressoes': [
                {
                    question: "Qual progress√£o √© conhecida como 'Four Chord Song' e usada em centenas de hits pop?",
                    chordName: "I - V - vi - IV",
                    options: ["I - IV - V", "I - V - vi - IV", "ii - V - I", "I - vi - IV - V"],
                    answer: "I - V - vi - IV"
                },
                {
                    question: "Em D√≥ maior, qual √© a progress√£o I - IV - V que forma a base do blues e rock?",
                    chordName: "C - F - G",
                    options: ["C - F - G", "G - C - D", "A - D - E", "D - G - A"],
                    answer: "C - F - G"
                },
                {
                    question: "Esta progress√£o √© chamada cad√™ncia andaluz, comum no flamenco:",
                    chordName: "Am - G - F - E",
                    options: ["C - G - Am - F", "Em - D - C - B", "Am - G - F - E", "Dm - C - Bb - A"],
                    answer: "Am - G - F - E"
                },
                {
                    question: "Progress√£o de jazz conhecida como 'ii - V - I' em D√≥ maior:",
                    chordName: "Dm7 - G7 - Cmaj7",
                    options: ["Em7 - A7 - Dmaj7", "Dm7 - G7 - Cmaj7", "Bm7b5 - E7 - Am", "Gm7 - C7 - Fmaj7"],
                    answer: "Dm7 - G7 - Cmaj7"
                },
                {
                    question: "Famosa progress√£o de lamento descendo cromaticamente, usada em muitas baladas:",
                    chordName: "Am - G# - G - F#",
                    options: ["Am - G# - G - F#", "C - B - Bb - A", "Em - Eb - D - Db", "Dm - D - C# - C"],
                    answer: "Am - G# - G - F#"
                },
                {
                    question: "Qual progress√£o √© comum em m√∫sicas folk e country, conhecida como 'Pachelbel's Canon'?",
                    chordName: "I - V - vi - iii - IV - I - IV - V",
                    options: ["I - V - vi - IV", "I - vi - IV - V", "I - V - vi - iii - IV - I - IV - V", "vi - IV - I - V"],
                    answer: "I - V - vi - iii - IV - I - IV - V"
                },
                {
                    question: "Em Sol maior, qual seria a progress√£o I - vi - IV - V?",
                    chordName: "G - Em - C - D",
                    options: ["G - Bm - C - D", "G - Em - C - D", "D - Bm - G - A", "C - Am - F - G"],
                    answer: "G - Em - C - D"
                },
                {
                    question: "Qual progress√£o usa acordes do campo harm√¥nico menor harm√¥nico, criando uma sonoridade mais tensa?",
                    chordName: "Am - E7 - Am",
                    options: ["Am - G - C - F", "Am - Dm - E7 - Am", "Am - F - G - C", "Am - Em - Bm - F#"],
                    answer: "Am - Dm - E7 - Am"
                },
                {
                    question: "A progress√£o I - bVII - IV - I √© caracter√≠stica de qual estilo musical?",
                    chordName: "I - bVII - IV - I",
                    options: ["Blues", "Rock Cl√°ssico", "Jazz Modal", "Bossa Nova"],
                    answer: "Rock Cl√°ssico"
                },
                {
                    question: "Em Mi maior, qual seria a progress√£o ii - V - I?",
                    chordName: "F#m7 - B7 - Emaj7",
                    options: ["F#m7 - B7 - Emaj7", "G#m7 - C#7 - F#maj7", "C#m7 - F#7 - Bmaj7", "Am7 - D7 - Gmaj7"],
                    answer: "F#m7 - B7 - Emaj7"
                },
                {
                    question: "A progress√£o I - vi - IV - V √© conhecida como 'progress√£o dos anos 50'. Qual acorde √© o 'vi' em D√≥ maior?",
                    chordName: "vi em D√≥ Maior",
                    options: ["Am", "Em", "Dm", "F"],
                    answer: "Am"
                },
                {
                    question: "O que √© uma 'cad√™ncia plagal'?",
                    chordName: "Cad√™ncia Plagal",
                    options: ["V - I", "IV - I", "ii - V - I", "vi - IV - I - V"],
                    answer: "IV - I"
                }
            ],
            'teoria-musical': [
                {
                    question: "Quais notas formam o acorde de L√° menor (Am)?",
                    chordName: "Notas de Am",
                    options: ["L√°, D√≥, Mi", "L√°, D√≥#, Mi", "L√°, D√≥, F√°", "Sol, Si, R√©"],
                    answer: "L√°, D√≥, Mi"
                },
                {
                    question: "Como √© formado um acorde maior na teoria musical?",
                    chordName: "Estrutura acorde maior",
                    options: ["T√¥nica + 3¬™ menor + 5¬™ justa", "T√¥nica + 3¬™ maior + 5¬™ justa", "T√¥nica + 3¬™ maior + 5¬™ diminuta", "T√¥nica + 4¬™ justa + 5¬™ justa"],
                    answer: "T√¥nica + 3¬™ maior + 5¬™ justa"
                },
                {
                    question: "Qual √© o intervalo entre as notas Mi e Sol?",
                    chordName: "Intervalo Mi-Sol",
                    options: ["Ter√ßa menor", "Ter√ßa maior", "Quarta justa", "Segunda maior"],
                    answer: "Ter√ßa menor"
                },
                {
                    question: "O que significa o numeral romano 'V7' em uma an√°lise harm√¥nica?",
                    chordName: "V7 na harmonia",
                    options: ["Acorde menor do quinto grau", "Acorde maior com s√©tima maior do quinto grau", "Acorde dominante (com s√©tima menor) do quinto grau", "Acorde diminuto do quinto grau"],
                    answer: "Acorde dominante (com s√©tima menor) do quinto grau"
                },
                {
                    question: "Qual escala √© formada pelas notas D√≥, R√©, Mi, F√°, Sol, L√°, Si?",
                    chordName: "Escala de D√≥",
                    options: ["D√≥ maior", "D√≥ menor natural", "D√≥ menor harm√¥nica", "D√≥ mixol√≠dio"],
                    answer: "D√≥ maior"
                },
                {
                    question: "Qual √© a fun√ß√£o harm√¥nica do acorde IVmaj7 em uma tonalidade maior?",
                    chordName: "Fun√ß√£o IVmaj7",
                    options: ["T√¥nica", "Dominante", "Subdominante", "Relativo menor"],
                    answer: "Subdominante"
                },
                {
                    question: "Quantos sustenidos (#) tem a armadura de clave da tonalidade de Mi maior?",
                    chordName: "Armadura Mi Maior",
                    options: ["1", "2", "3", "4"],
                    answer: "4"
                },
                {
                    question: "O que √© um 'modo grego' na teoria musical?",
                    chordName: "Modos Gregos",
                    options: ["Um tipo de acorde", "Uma escala derivada de outra escala (como a maior)", "Uma progress√£o harm√¥nica", "Um ornamento mel√≥dico"],
                    answer: "Uma escala derivada de outra escala (como a maior)"
                },
                {
                    question: "Qual a diferen√ßa entre compasso simples e composto?",
                    chordName: "Compasso Simples vs Composto",
                    options: ["N√∫mero de tempos", "Figura que representa um tempo", "Presen√ßa de s√≠ncopas", "Uso de ligaduras"],
                    answer: "Figura que representa um tempo"
                },
                {
                    question: "O que √© um arpejo?",
                    chordName: "Arpejo",
                    options: ["Tocar as notas de um acorde simultaneamente", "Tocar as notas de um acorde sucessivamente", "Um tipo de escala", "Uma t√©cnica de m√£o esquerda"],
                    answer: "Tocar as notas de um acorde sucessivamente"
                },
                {
                    question: "Qual o nome do intervalo de 8 notas (ex: D√≥ a D√≥)?",
                    chordName: "Oitava",
                    options: ["S√©tima Maior", "Oitava Justa", "Nona Menor", "Un√≠ssono"],
                    answer: "Oitava Justa"
                },
                {
                    question: "O que significa 'modula√ß√£o' em m√∫sica?",
                    chordName: "Modula√ß√£o",
                    options: ["Mudar o ritmo", "Mudar a din√¢mica (volume)", "Mudar a tonalidade", "Mudar o instrumento"],
                    answer: "Mudar a tonalidade"
                },
                {
                    question: "Qual a fun√ß√£o do 'tr√≠tono' (intervalo de 3 tons inteiros) na harmonia?",
                    chordName: "Tr√≠tono",
                    options: ["Criar conson√¢ncia", "Resolver para a t√¥nica", "Gerar tens√£o e instabilidade", "Definir o modo"],
                    answer: "Gerar tens√£o e instabilidade"
                }
            ],
            'escalas': [
                {
                    question: "Qual escala pentat√¥nica √© amplamente usada no blues e rock?",
                    chordName: "Pentat√¥nica Menor",
                    options: ["Pentat√¥nica Maior", "Pentat√¥nica Menor", "Escala de Blues", "Escala Diminuta"],
                    answer: "Pentat√¥nica Menor"
                },
                {
                    question: "Quantas notas tem uma escala pentat√¥nica?",
                    chordName: "Notas na Pentat√¥nica",
                    options: ["5", "6", "7", "8"],
                    answer: "5"
                },
                {
                    question: "Qual modo grego tem a mesma estrutura da escala maior natural?",
                    chordName: "Modo J√¥nio",
                    options: ["D√≥rico", "Fr√≠gio", "L√≠dio", "J√¥nio"],
                    answer: "J√¥nio"
                },
                {
                    question: "A escala menor harm√¥nica difere da menor natural por qual altera√ß√£o?",
                    chordName: "Menor Harm√¥nica",
                    options: ["Sexto grau elevado", "S√©timo grau elevado", "Terceiro grau elevado", "Quinto grau elevado"],
                    answer: "S√©timo grau elevado"
                },
                {
                    question: "Qual escala adiciona uma nota (blue note) √† pentat√¥nica menor?",
                    chordName: "Escala de Blues",
                    options: ["Escala Maior", "Escala Menor Mel√≥dica", "Escala de Blues", "Escala Crom√°tica"],
                    answer: "Escala de Blues"
                },
                {
                    question: "Qual modo grego √© frequentemente associado a uma sonoridade 'espanhola' ou 'flamenca'?",
                    chordName: "Modo Fr√≠gio",
                    options: ["L√≠dio", "Mixol√≠dio", "Fr√≠gio", "E√≥lio"],
                    answer: "Fr√≠gio"
                },
                {
                    question: "A escala menor mel√≥dica tem quais graus elevados na subida?",
                    chordName: "Menor Mel√≥dica",
                    options: ["6¬∫ e 7¬∫", "Apenas 7¬∫", "Apenas 6¬∫", "3¬∫ e 7¬∫"],
                    answer: "6¬∫ e 7¬∫"
                },
                {
                    question: "Qual escala cont√©m todas as 12 notas da m√∫sica ocidental?",
                    chordName: "Escala Crom√°tica",
                    options: ["Escala Maior", "Escala Crom√°tica", "Escala de Tons Inteiros", "Escala Diminuta"],
                    answer: "Escala Crom√°tica"
                },
                {
                    question: "O modo L√≠dio √© o quarto modo da escala maior. Qual sua caracter√≠stica principal?",
                    chordName: "Modo L√≠dio",
                    options: ["S√©tima menor", "Quarta aumentada", "Segunda menor", "Sexta menor"],
                    answer: "Quarta aumentada"
                },
                {
                    question: "Qual modo grego √© frequentemente associado a uma sonoridade 'triste' ou 'melanc√≥lica'?",
                    chordName: "Modo Triste",
                    options: ["L√≠dio", "Mixol√≠dio", "D√≥rico", "E√≥lio"],
                    answer: "E√≥lio"
                },
                {
                    question: "A escala pentat√¥nica menor √© formada por quais graus da escala menor natural?",
                    chordName: "Pentat√¥nica Menor",
                    options: ["1, 2, 3, 5, 6", "1, b3, 4, 5, b7", "1, 3, 4, 5, 7", "1, 2, 4, 5, 6"],
                    answer: "1, b3, 4, 5, b7"
                }
            ],
            'ritmos': [
                {
                    question: "Qual ritmo √© caracterizado por uma batida constante no baixo e acordes sincopados?",
                    chordName: "Bossa Nova",
                    options: ["Rock", "Reggae", "Bossa Nova", "Samba"],
                    answer: "Bossa Nova"
                },
                {
                    question: "Este ritmo enfatiza os tempos 2 e 4 (contratempo), comum no Reggae e Ska:",
                    chordName: "Offbeat",
                    options: ["Downbeat", "Offbeat", "Swing", "Shuffle"],
                    answer: "Offbeat"
                },
                {
                    question: "Qual padr√£o de palhetada √© fundamental no rock e pop? (B = Baixo, C = Cima)",
                    chordName: "B-B-C-C-B-C",
                    options: ["B-C-B-C", "B-B-C-C-B-C", "B-B-B-B", "C-C-B-B"],
                    answer: "B-B-C-C-B-C"
                },
                {
                    question: "O ritmo 'Shuffle' ou 'Swing' √© caracterizado por tocar as colcheias de forma...",
                    chordName: "Swing Feel",
                    options: ["Exatamente iguais", "A primeira longa e a segunda curta", "A primeira curta e a segunda longa", "Todas staccato"],
                    answer: "A primeira longa e a segunda curta"
                },
                {
                    question: "Qual t√©cnica r√≠tmica abafa as cordas com a palma da m√£o perto da ponte?",
                    chordName: "Palm Muting",
                    options: ["Strumming", "Fingerpicking", "Palm Muting", "Tapping"],
                    answer: "Palm Muting"
                },
                {
                    question: "Que figura r√≠tmica vale metade de um tempo em um compasso 4/4?",
                    chordName: "Colcheia",
                    options: ["Sem√≠nima", "Colcheia", "Semicolcheia", "M√≠nima"],
                    answer: "Colcheia"
                },
                {
                    question: "Um ritmo sincopado √© aquele que acentua notas...",
                    chordName: "S√≠ncope",
                    options: ["Nos tempos fortes", "Fora dos tempos fortes esperados", "Apenas no primeiro tempo", "Sempre na t√¥nica"],
                    answer: "Fora dos tempos fortes esperados"
                },
                {
                    question: "Qual o nome da t√©cnica de tocar notas individuais com os dedos da m√£o direita, em vez de usar palheta?",
                    chordName: "Fingerpicking",
                    options: ["Strumming", "Tapping", "Fingerpicking", "Palm Muting"],
                    answer: "Fingerpicking"
                },
                {
                    question: "Em um compasso 3/4 (valsa), quantos tempos existem em cada compasso?",
                    chordName: "Compasso 3/4",
                    options: ["2", "3", "4", "6"],
                    answer: "3"
                },
                {
                    question: "O que √© um 'polirritmo'?",
                    chordName: "Polirritmo",
                    options: ["Um ritmo muito r√°pido", "V√°rios ritmos diferentes tocados simultaneamente", "Um ritmo com muitas pausas", "Um ritmo tocado ao contr√°rio"],
                    answer: "V√°rios ritmos diferentes tocados simultaneamente"
                },
                {
                    question: "Qual figura de nota geralmente representa um tempo em um compasso 4/4?",
                    chordName: "Unidade de Tempo 4/4",
                    options: ["Semibreve", "M√≠nima", "Sem√≠nima", "Colcheia"],
                    answer: "Sem√≠nima"
                }
            ],
            'harmonia-funcional': [
                {
                    question: "Qual a fun√ß√£o principal do acorde dominante (V7) em uma tonalidade maior?",
                    chordName: "Fun√ß√£o Dominante",
                    options: ["Repouso", "Tens√£o que resolve na t√¥nica", "Preparo para a subdominante", "Colora√ß√£o modal"],
                    answer: "Tens√£o que resolve na t√¥nica"
                },
                {
                    question: "O acorde IVmaj7 em D√≥ maior (Fmaj7) tem qual fun√ß√£o harm√¥nica?",
                    chordName: "Fun√ß√£o Subdominante",
                    options: ["T√¥nica", "Dominante", "Subdominante", "Relativo menor"],
                    answer: "Subdominante"
                },
                {
                    question: "O que √© um 'acorde de empr√©stimo modal'?",
                    chordName: "Empr√©stimo Modal",
                    options: ["Um acorde de outra tonalidade", "Um acorde do modo paralelo (ex: pegar Fm emprestado em D√≥ Maior)", "Um acorde invertido", "Um acorde suspenso"],
                    answer: "Um acorde do modo paralelo (ex: pegar Fm emprestado em D√≥ Maior)"
                },
                {
                    question: "Na progress√£o ii - V - I em Sol Maior, quais s√£o os acordes?",
                    chordName: "ii-V-I em Sol",
                    options: ["Am7 - D7 - Gmaj7", "Bm7 - E7 - Amaj7", "Em7 - A7 - Dmaj7", "F#m7 - B7 - Emaj7"],
                    answer: "Am7 - D7 - Gmaj7"
                },
                {
                    question: "Qual o nome da cad√™ncia V - vi (ex: G7 - Am em D√≥ Maior)?",
                    chordName: "Cad√™ncia Deceptiva",
                    options: ["Cad√™ncia Aut√™ntica Perfeita", "Cad√™ncia Plagal", "Cad√™ncia Deceptiva (ou Interrompida)", "Meia Cad√™ncia"],
                    answer: "Cad√™ncia Deceptiva (ou Interrompida)"
                }
            ],
            'tecnicas-avancadas': [
                {
                    question: "Qual t√©cnica envolve usar a m√£o da palheta para 'martelar' notas na escala?",
                    chordName: "Tapping",
                    options: ["Sweep Picking", "Tapping", "Hybrid Picking", "Slap"],
                    answer: "Tapping"
                },
                {
                    question: "A t√©cnica de 'Sweep Picking' √© mais usada para tocar o qu√™ rapidamente?",
                    chordName: "Sweep Picking",
                    options: ["Escalas", "Arpejos", "Riffs", "Acordes"],
                    answer: "Arpejos"
                },
                {
                    question: "O que √© 'Hybrid Picking'?",
                    chordName: "Hybrid Picking",
                    options: ["Usar palheta e dedos da m√£o direita simultaneamente", "Tocar com duas palhetas", "Alternar palhetada e ligados", "Usar palheta de metal"],
                    answer: "Usar palheta e dedos da m√£o direita simultaneamente"
                },
                {
                    question: "Qual o nome da t√©cnica que produz um som percussivo batendo as cordas contra os trastes, comum no baixo mas adapt√°vel ao viol√£o?",
                    chordName: "Slap",
                    options: ["Palm Muting", "Slap", "Rasgueado", "Pizzicato"],
                    answer: "Slap"
                },
                {
                    question: "O que s√£o 'harm√¥nicos artificiais' no viol√£o?",
                    chordName: "Harm√¥nicos Artificiais",
                    options: ["Notas tocadas muito alto", "Tocar levemente sobre um traste espec√≠fico enquanto palheta", "Usar um pedal de efeito", "Tocar com a unha"],
                    answer: "Tocar levemente sobre um traste espec√≠fico enquanto palheta"
                }
            ]
        };
        
        // Vari√°veis globais para gerenciar o estado do jogo
        let currentCategory = '';
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let streak = 0;
        let selectedAnswer = null;
        let level = 1;
        let correctAnswersInLevel = 0;
        const questionsPerLevel = 5;
        
        // Elementos do DOM
        const quizContent = document.getElementById('quiz-content');
        const categoryCards = document.querySelectorAll('.category-card');
        const questionElement = document.querySelector('.question');
        const chordNameElement = document.querySelector('.chord-name');
        const optionsGrid = document.querySelector('.options-grid');
        const feedbackElement = document.getElementById('feedback');
        const nextButton = document.querySelector('.next-btn');
        const scoreElement = document.querySelector('.score');
        const streakElement = document.querySelector('.streak');
        const levelElement = document.querySelector('.level');
        const progressBar = document.querySelector('.progress-bar');
        
        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            // Adicionar eventos de clique √†s categorias
            categoryCards.forEach(card => {
                card.addEventListener('click', function() {
                    const category = this.getAttribute('data-category');
                    startGame(category);
                });
            });
            
            // Configurar o bot√£o de pr√≥xima pergunta
            nextButton.addEventListener('click', nextQuestion);
        });
        
        // Fun√ß√£o para iniciar o jogo quando uma categoria √© selecionada
        function startGame(category) {
            currentCategory = category;
            currentQuestions = [...quizData[category]]; // Criar uma c√≥pia das perguntas
            
            // Embaralhar perguntas
            shuffleArray(currentQuestions);
            
            currentQuestionIndex = 0;
            score = 0;
            streak = 0;
            level = 1;
            correctAnswersInLevel = 0;
            
            // Atualizar UI
            scoreElement.textContent = score;
            streakElement.textContent = streak;
            levelElement.textContent = level;
            progressBar.style.width = '0%';
            
            // Mostrar o conte√∫do do quiz e esconder as categorias
            document.querySelector('.categories').style.display = 'none';
            document.querySelector('.categories-heading').textContent = `Categoria: ${getCategoryTitle(category)}`;
            quizContent.style.display = 'block';
            
            // Mostrar a primeira pergunta
            showQuestion();
        }
        
        // Obter o t√≠tulo formatado da categoria
        function getCategoryTitle(category) {
            const categoryCard = document.querySelector(`.category-card[data-category="${category}"]`);
            return categoryCard ? categoryCard.querySelector('.category-title').textContent : category;
        }
        
        // Fun√ß√£o para embaralhar array (algoritmo Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        // Mostrar a pergunta atual
        function showQuestion() {
            const currentQuestion = currentQuestions[currentQuestionIndex];
            
            // Atualizar a pergunta e o nome do acorde
            questionElement.textContent = currentQuestion.question;
            chordNameElement.textContent = currentQuestion.chordName; // <-- FIX: Update chord name display
            
            // Limpar sele√ß√£o anterior e feedback
            selectedAnswer = null;
            feedbackElement.classList.remove('show', 'correct', 'incorrect');
            nextButton.disabled = true;
            
            // Limpar e criar os bot√µes de op√ß√µes
            optionsGrid.innerHTML = '';
            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-button';
                button.textContent = option;
                button.onclick = () => selectAnswer(index);
                optionsGrid.appendChild(button);
            });
        }
        
        // Lidar com a sele√ß√£o de resposta
        function selectAnswer(index) {
            // Se j√° tiver selecionado uma resposta, n√£o permitir nova sele√ß√£o
            if (selectedAnswer !== null) return;
            
            const currentQuestion = currentQuestions[currentQuestionIndex];
            selectedAnswer = index;
            const selectedOption = currentQuestion.options[index];
            const isCorrect = selectedOption === currentQuestion.answer;
            
            // Destacar a resposta selecionada
            const optionButtons = optionsGrid.querySelectorAll('.option-button');
            if (isCorrect) {
                optionButtons[index].classList.add('correct');
                feedbackElement.textContent = 'Correto! üëè';
                feedbackElement.classList.add('show', 'correct');
                score += 10;
                streak += 1;
                correctAnswersInLevel += 1;
                
                // Verificar se deve subir de n√≠vel
                if (correctAnswersInLevel >= questionsPerLevel) {
                    level += 1;
                    correctAnswersInLevel = 0;
                    levelElement.textContent = level;
                }
            } else {
                optionButtons[index].classList.add('incorrect');
                
                // Mostrar qual era a resposta correta
                const correctIndex = currentQuestion.options.indexOf(currentQuestion.answer);
                optionButtons[correctIndex].classList.add('correct');
                
                feedbackElement.textContent = 'Incorreto! A resposta correta est√° destacada.';
                feedbackElement.classList.add('show', 'incorrect');
                streak = 0;
            }
            
            // Atualizar a pontua√ß√£o e racha na tela
            scoreElement.textContent = score;
            streakElement.textContent = streak;
            
            // Atualizar a barra de progresso do n√≠vel
            const progress = (correctAnswersInLevel / questionsPerLevel) * 100;
            progressBar.style.width = `${progress}%`;
            
            // Habilitar o bot√£o para pr√≥xima pergunta
            nextButton.disabled = false;
        }
        
        // Avan√ßar para a pr√≥xima pergunta
        function nextQuestion() {
            currentQuestionIndex++;
            
            // Verificar se ainda tem perguntas
            if (currentQuestionIndex < currentQuestions.length) {
                showQuestion();
            } else {
                // Final do jogo - mostrar resultado
                showGameResult();
            }
        }
        
        // Mostrar o resultado final do jogo
        function showGameResult() {
            quizContent.innerHTML = `
                <div class="quiz-box">
                    <h2>Parab√©ns! üéâ</h2>
                    <p>Voc√™ completou todas as perguntas da categoria.</p>
                    <div class="result-summary">
                        <p>Pontua√ß√£o final: <strong>${score}</strong></p>
                        <p>N√≠vel alcan√ßado: <strong>${level}</strong></p>
                    </div>
                    <div class="button-container">
                        <button class="next-btn" onclick="resetGame()">Jogar Novamente</button>
                    </div>
                </div>
            `;
        }
        
        // Reiniciar o jogo e voltar √† sele√ß√£o de categorias
        function resetGame() {
            document.querySelector('.categories').style.display = 'grid';
            document.querySelector('.categories-heading').textContent = 'Selecione uma categoria:';
            quizContent.style.display = 'none';
            // Restore the original HTML structure for the quiz content
            quizContent.innerHTML = `
                <div class="quiz-box">
                    <div class="question">Qual √© este acorde?</div>
                    
                    <div class="chord-display">
                        <div class="chord-diagram">
                            <div class="chord-name">C</div>
                        </div>
                    </div>
                    
                    <div class="feedback" id="feedback"></div>
                    
                    <div class="options-grid"></div>
                    
                    <div class="button-container">
                        <button class="next-btn" disabled>Pr√≥xima Pergunta</button> 
                    </div>
                </div>
            `;
            
            // Re-select elements from the newly created DOM structure
            questionElement = quizContent.querySelector('.question');
            chordNameElement = quizContent.querySelector('.chord-name');
            optionsGrid = quizContent.querySelector('.options-grid');
            feedbackElement = quizContent.querySelector('#feedback');
            nextButton = quizContent.querySelector('.next-btn');

            // Re-attach the event listener to the new button
            if (nextButton) {
                nextButton.addEventListener('click', nextQuestion);
            }
        }
    </script>
</body>
</html>

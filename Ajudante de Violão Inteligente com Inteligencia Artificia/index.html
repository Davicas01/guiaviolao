<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajudante de Viol√£o Inteligente com IA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #8B4513; /* Marrom escuro */
            --secondary-color: #A0522D; /* Marrom m√©dio */
            --accent-color: #CD853F; /* Marrom claro */
            --light-accent: #DEB887; /* Bege */
            --dark-text: #442C1E; /* Marrom muito escuro para texto */
            --light-text: #FFF8E1; /* Texto claro */
            --bg-light: #FAF0E6; /* Fundo claro */
            --border-color: #D3C1AE;
            --shadow: 0 5px 15px rgba(139, 69, 19, 0.15);
            --radius: 8px;
            --transition: all 0.3s ease;
            --bg-gradient: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: var(--dark-text);
            background-color: var(--bg-light);
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px; /* Added padding for container */
        }
        
        header {
            background: var(--bg-gradient);
            color: var(--light-text);
            padding: 3rem 1rem; /* Adjusted padding */
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-bottom: 5px solid var(--accent-color);
        }
        
        /* Removed header::before for cleaner look */
        
        header h1 {
            font-family: 'Poppins', sans-serif; /* Changed font */
            font-weight: 700;
            font-size: 2.5rem; /* Adjusted size */
            margin-bottom: 1rem; /* Adjusted margin */
            position: relative;
            z-index: 1;
        }
        
        .hero-text {
            font-size: 1.1rem; /* Adjusted size */
            max-width: 700px;
            margin: 0 auto 2rem; /* Adjusted margin */
            position: relative;
            z-index: 1;
            opacity: 0.9;
        }
        
        /* Estilos para o menu de categorias */
        .category-nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            z-index: 2;
            position: relative;
        }
        
        .category-btn {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .category-btn:hover, .category-btn.active {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        /* Estilos para a barra de pesquisa */
        .search-container {
            margin: 20px 0 30px 0;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            padding: 15px 20px;
        }
        
        .search-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .search-icon {
            position: absolute;
            left: 15px;
            color: var(--secondary-color);
        }
        
        #globalSearch {
            flex-grow: 1;
            padding: 12px 20px 12px 45px;
            border: 1px solid var(--border-color);
            border-radius: 30px;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s;
        }
        
        #globalSearch:focus {
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(160, 82, 45, 0.2);
        }
        
        #searchBtn {
            background-color: var(--primary-color);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .popular-searches {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
            padding-left: 5px;
            align-items: center;
        }
        
        .popular-searches span {
            font-size: 0.85rem;
            color: #666;
            margin-right: 5px;
        }
        
        .search-tag {
            background-color: var(--bg-light);
            color: var(--dark-text);
            font-size: 0.85rem;
            padding: 5px 12px;
            border-radius: 20px;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .search-tag:hover {
            background-color: var(--light-accent);
            transform: translateY(-1px);
        }
        
        .hero-cta {
            position: relative;
            z-index: 1;
        }
        
        main {
            padding: 40px 0; /* Adjusted padding */
        }
        
        section {
            margin-bottom: 40px; /* Adjusted margin */
            background-color: #fff;
            border-radius: var(--radius);
            padding: 2rem;
            box-shadow: var(--shadow);
        }
        
        h2 {
            font-family: 'Poppins', sans-serif; /* Changed font */
            font-weight: 600;
            color: var(--primary-color);
            font-size: 1.8rem; /* Adjusted size */
            margin-bottom: 1.5rem; /* Adjusted margin */
            text-align: left; /* Align left */
            position: relative;
            padding-bottom: 10px; /* Adjusted padding */
            border-bottom: 2px solid var(--border-color); /* Add border bottom */
        }
        
        h2 i {
            margin-right: 10px;
            color: var(--secondary-color);
        }

        /* Removed h2::after */

        .ai-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: flex-start;
        }

        .camera-area, .feedback-area {
            background: var(--bg-light);
            border-radius: var(--radius);
            padding: 1.5rem;
            border: 1px solid var(--border-color);
        }
        
        .camera-area h3, .feedback-area h3, #exercise-section h3, #chat-section h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
        }
        
        .camera-area h3 i, .feedback-area h3 i, #exercise-section h3 i, #chat-section h3 i {
            margin-right: 8px;
        }

        #cameraFeed {
            width: 100%;
            height: auto;
            background-color: #333;
            border-radius: var(--radius);
            margin-bottom: 1rem;
            aspect-ratio: 16 / 9; /* Maintain aspect ratio */
            display: flex;
            align-items: center;
            justify-content: center;
            color: #777;
        }
        
        #feedbackArea {
            min-height: 200px; /* Ensure minimum height */
            background-color: #fff;
            padding: 1rem;
            border-radius: var(--radius);
            border: 1px dashed var(--border-color);
            font-size: 0.95rem;
            overflow-y: auto; /* Add scroll if content overflows */
        }
        
        .feedback-item {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }
        .feedback-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        .feedback-item.positive { color: #2E7D32; }
        .feedback-item.negative { color: #B22222; }
        .feedback-item strong { color: var(--dark-text); }

        #exercise-section ul {
            list-style: none;
            padding: 0;
        }
        
        #exercise-section li {
            background: var(--bg-light);
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: var(--radius);
            border-left: 4px solid var(--accent-color);
            font-size: 0.95rem;
        }
        
        #chat-section {
            margin-top: 30px;
        }

        /* Styles for Suggested Questions */
        #suggestedQuestions {
            padding: 1rem 1rem 0.5rem 1rem; /* Add padding */
            background-color: #fff; /* Match input area background */
            border: 1px solid var(--border-color);
            border-bottom: none; /* Remove bottom border to merge with input area */
            border-top-left-radius: var(--radius);
            border-top-right-radius: var(--radius);
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        #suggestedQuestions h4 {
            width: 100%;
            margin-bottom: 8px;
            font-size: 0.9rem;
            color: var(--secondary-color);
            font-weight: 500;
        }

        .suggested-question-btn {
            background-color: var(--bg-light);
            border: 1px solid var(--border-color);
            color: var(--dark-text);
            padding: 6px 12px;
            border-radius: 20px; /* Pill shape */
            font-size: 0.85rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .suggested-question-btn:hover {
            background-color: var(--light-accent);
            border-color: var(--secondary-color);
            transform: translateY(-1px);
        }
        /* End Styles for Suggested Questions */

        #chatInterface {
            display: flex;
            flex-direction: column;
            height: 400px; /* Fixed height for chat */
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            overflow: hidden;
            background-color: #fff;
            /* Remove top border radius if suggested questions are added */
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }
        
        #chatMessages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            background-color: var(--bg-light);
        }
        
        .message {
            margin-bottom: 1rem;
            padding: 0.8rem 1rem;
            border-radius: var(--radius);
            max-width: 80%;
        }
        
        .message.user {
            background-color: var(--accent-color);
            color: var(--dark-text);
            margin-left: auto;
            text-align: right;
        }
        
        .message.ai {
            background-color: #fff;
            border: 1px solid var(--border-color);
            color: var(--dark-text);
            margin-right: auto;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .message.ai i {
            color: var(--primary-color);
            margin-top: 3px;
        }
        
        #inputArea {
            display: flex;
            padding: 1rem;
            border-top: 1px solid var(--border-color);
            background-color: #fff;
        }
        
        #userInput {
            flex-grow: 1;
            padding: 0.8rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            margin-right: 10px;
            font-size: 1rem;
        }
        
        .btn {
            background: var(--primary-color);
            color: var(--light-text);
            padding: 0.8rem 1.5rem; /* Adjusted padding */
            border-radius: var(--radius); /* Adjusted radius */
            text-decoration: none;
            display: inline-flex; /* Use flex for icon alignment */
            align-items: center;
            justify-content: center;
            font-weight: 500;
            font-size: 1rem; /* Adjusted size */
            transition: var(--transition);
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1;
            gap: 8px; /* Space between icon and text */
        }
        
        .btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .btn-secondary {
            background-color: var(--accent-color);
            color: var(--dark-text);
        }
        .btn-secondary:hover {
            background-color: var(--light-accent);
        }
        
        footer {
            background-color: var(--primary-color);
            color: var(--light-text);
            text-align: center;
            padding: 1.5rem 1rem; /* Adjusted padding */
            margin-top: 40px; /* Adjusted margin */
            border-top: 5px solid var(--accent-color);
        }
        
        .home-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: var(--light-text);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: var(--transition);
            z-index: 100;
            border: none;
        }
        
        .home-btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.35);
        }
        
        .home-btn i {
            font-size: 24px;
        }
        
        @media (max-width: 992px) {
            .ai-section {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            header {
                padding: 2rem 1rem;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            .hero-text {
                font-size: 1rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            section {
                padding: 1.5rem;
            }

            #cameraFeed {
                min-height: 200px; /* Adjust height for smaller screens */
            }
            
            #chatInterface {
                height: 350px;
            }
        }
        
        @media (max-width: 576px) {
            .btn {
                padding: 0.5rem 0.8rem; /* Further reduced padding */
                font-size: 0.85rem; /* Further reduced font size */
            }
            #userInput {
                font-size: 0.85rem; /* Further reduced font size */
                padding: 0.5rem; /* Further reduced padding */
            }
            #chatInterface {
                height: 280px; /* Further reduce height */
            }
            .message {
                padding: 0.5rem 0.7rem; /* Further reduce message padding */
                font-size: 0.85rem; /* Further reduce message font size */
                max-width: 85%; /* Allow slightly wider messages */
            }
            #suggestedQuestions {
                padding: 0.6rem 0.6rem 0.3rem 0.6rem; /* Further reduce padding */
                max-height: 120px; /* Limit height more */
            }
            .suggested-question-btn {
                padding: 4px 8px; /* Further reduce button padding */
                font-size: 0.75rem; /* Further reduce button font size */
            }
            #inputArea {
                padding: 0.6rem; /* Further reduce input area padding */
            }
            section#chat-section {
                 padding: 0.8rem; /* Further reduce section padding */
            }
             h2 {
                font-size: 1.2rem; /* Further reduce heading size */
                margin-bottom: 0.8rem; /* Further reduce margin */
                padding-bottom: 8px; /* Adjust padding */
            }
             #chat-section h3 {
                font-size: 1rem; /* Further reduce subheading size */
                margin-bottom: 0.6rem; /* Further reduce margin */
            }
            .home-btn {
                width: 50px;
                height: 50px;
                bottom: 20px;
                right: 20px;
            }
            .home-btn i {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fas fa-robot"></i> Ajudante de Viol√£o Inteligente</h1>
            <p class="hero-text">Receba feedback em tempo real e acelere seu aprendizado com IA</p>
            <!-- Adicionado menu de navega√ß√£o por categorias -->
            <div class="category-nav">
                <button class="category-btn" data-category="acordes"><i class="fas fa-music"></i> Acordes</button>
                <button class="category-btn" data-category="tecnicas"><i class="fas fa-hand-paper"></i> T√©cnicas</button>
                <button class="category-btn" data-category="ritmos"><i class="fas fa-drum"></i> Ritmos</button>
                <button class="category-btn" data-category="teoria"><i class="fas fa-book"></i> Teoria</button>
                <button class="category-btn" data-category="repertorio"><i class="fas fa-guitar"></i> Repert√≥rio</button>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Barra de pesquisa global -->
        <div class="search-container">
            <div class="search-input-wrapper">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="globalSearch" placeholder="Pesquise por acordes, t√©cnicas, m√∫sicas...">
                <button id="searchBtn" class="btn btn-sm"><i class="fas fa-arrow-right"></i></button>
            </div>
            <div class="popular-searches">
                <span>Buscas populares:</span>
                <a href="#" class="search-tag">Acorde F</a>
                <a href="#" class="search-tag">Pestana</a>
                <a href="#" class="search-tag">M√∫sicas f√°ceis</a>
                <a href="#" class="search-tag">Batidas</a>
            </div>
        </div>

        <section id="chat-section">
            <h2><i class="fas fa-comments"></i> Converse com a IA</h2>
            <h3><i class="fas fa-question-circle"></i> Tire suas d√∫vidas</h3>
            <div id="suggestedQuestions">
                <h4>Experimente perguntar:</h4>
                <!-- Suggested question buttons will be inserted here by JS -->
            </div>
            <div id="chatInterface">
                <div id="chatMessages">
                    <div class="message ai">
                        <i class="fas fa-robot"></i>
                        <span>Ol√°! Sou seu Ajudante de Viol√£o Inteligente. Como posso ajudar voc√™ com seus estudos hoje? Pergunte sobre acordes, ritmos, t√©cnicas, teoria ou pe√ßa dicas!</span>
                    </div>
                    <!-- Chat messages will be inserted here by JS -->
                </div>
                <div id="inputArea">
                    <input type="text" id="userInput" placeholder="Digite sua pergunta aqui...">
                    <button id="sendMessageBtn" class="btn"><i class="fas fa-paper-plane"></i> Enviar</button>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <div class="container">
            &copy; 2025 Domine o Violao - Todos os direitos reservados
        </div>
    </footer>

    <button class="home-btn" onclick="window.location.href='../index.html'"> <!-- Link to main index.html -->
        <i class="fas fa-home"></i>
    </button>

    <script>
// Fun√ß√£o que ser√° executada quando a p√°gina estiver carregada
document.addEventListener('DOMContentLoaded', function() {
    // Obter refer√™ncias aos elementos importantes
    const sendMessageBtn = document.getElementById('sendMessageBtn');
    const userInput = document.getElementById('userInput');
    const chatMessages = document.getElementById('chatMessages');
    const suggestedQuestionsContainer = document.getElementById('suggestedQuestions');
    const searchInput = document.getElementById('globalSearch');
    const searchBtn = document.getElementById('searchBtn');
    const categoryBtns = document.querySelectorAll('.category-btn');
    const searchTags = document.querySelectorAll('.search-tag');
    
    // Categorias de perguntas organizadas por t√≥pico
    const perguntasPorCategoria = {
        acordes: [
            "Como fazer o acorde de F√° Maior (F)?",
            "Como tocar o acorde de Sol menor (Gm)?",
            "Quais s√£o os acordes essenciais para iniciantes?",
            "Como fazer acordes com pestana?",
            "Como tocar o acorde de R√© Maior (D)?",
            "Acordes para m√∫sica sertaneja",
            "O que s√£o acordes suspensos?",
            "Como fazer acordes com 7¬™?"
        ],
        tecnicas: [
            "Como melhorar a velocidade dos dedos?",
            "Como fazer dedilhado b√°sico?",
            "Dicas para melhorar a t√©cnica de palhetada",
            "Como fazer bend no viol√£o?",
            "T√©cnica para hammer-on e pull-off",
            "Como fazer pestana corretamente?",
            "T√©cnica de palm muting",
            "Exerc√≠cios para independ√™ncia dos dedos"
        ],
        ritmos: [
            "Como tocar batida de samba no viol√£o?",
            "Batida b√°sica de MPB",
            "Como fazer levada de reggae?",
            "Ritmos essenciais para iniciantes",
            "Batida de pop/rock simples",
            "Como fazer a batida de bossa nova?",
            "Dicas para manter o ritmo constante",
            "Como combinar diferentes ritmos?"
        ],
        teoria: [
            "O que √© campo harm√¥nico?",
            "Como entender as escalas b√°sicas?",
            "O que √© modo maior e menor?",
            "Progress√µes harm√¥nicas para iniciantes",
            "Como funciona o c√≠rculo das quintas?",
            "O que s√£o tens√µes harm√¥nicas?",
            "Como transpor uma m√∫sica?",
            "Como entender cifras e partituras?"
        ],
        repertorio: [
            "M√∫sicas f√°ceis para iniciantes no viol√£o",
            "M√∫sicas com 3 acordes para praticar",
            "M√∫sicas para treinar mudan√ßa de acordes",
            "M√∫sicas brasileiras f√°ceis para viol√£o",
            "Baladas simples para tocar e cantar",
            "M√∫sicas com dedilhado para praticar",
            "M√∫sicas para treinar acordes com pestana",
            "Repert√≥rio essencial para violonista iniciante"
        ]
    };
    
    // Lista completa de perguntas sugeridas
    const todasPerguntas = [
        "Como fazer o acorde de F√° Maior (F)?",
        "Como melhorar a velocidade dos dedos?",
        "Quais s√£o os acordes essenciais para iniciantes?",
        "Como tocar batida de samba no viol√£o?",
        "Me ensine um dedilhado simples",
        "Como praticar com metr√¥nomo?",
        "Como tocar o acorde de Sol menor (Gm)?",
        "M√∫sicas f√°ceis para iniciantes no viol√£o",
        "Qual a diferen√ßa entre viol√£o de nylon e a√ßo?",
        "Me d√™ uma dica para a pestana n√£o falhar",
        "Como afinar o viol√£o sem afinador?",
        "Como evitar dor nos dedos ao tocar viol√£o?",
        "O que √© campo harm√¥nico?",
        "Dicas para manter o ritmo constante",
        "Como improvisar no viol√£o?"
    ];
    
    // Fun√ß√£o para exibir perguntas sugeridas por categoria
    function mostrarPerguntasPorCategoria(categoria) {
        // Limpar o container
        suggestedQuestionsContainer.innerHTML = '<h4>Sugest√µes da categoria ' + categoria.charAt(0).toUpperCase() + categoria.slice(1) + ':</h4>';
        
        // Obter perguntas da categoria selecionada
        const perguntas = perguntasPorCategoria[categoria];
        
        // Criar bot√µes para cada pergunta
        perguntas.forEach(function(pergunta) {
            const button = document.createElement('button');
            button.className = 'suggested-question-btn';
            button.textContent = pergunta;
            button.addEventListener('click', function() {
                userInput.value = pergunta;
                enviarMensagem();
            });
            suggestedQuestionsContainer.appendChild(button);
        });
        
        // Adicionar bot√£o para mais sugest√µes
        const refreshButton = document.createElement('button');
        refreshButton.className = 'suggested-question-btn refresh-btn';
        refreshButton.innerHTML = '<i class="fas fa-sync-alt"></i> Mais sugest√µes';
        refreshButton.addEventListener('click', mostrarPerguntasSugeridas);
        suggestedQuestionsContainer.appendChild(refreshButton);
        
        // Destacar o bot√£o de categoria ativo
        categoryBtns.forEach(btn => {
            btn.classList.remove('active');
            if(btn.getAttribute('data-category') === categoria) {
                btn.classList.add('active');
            }
        });
    }
    
    // Exibir perguntas sugeridas aleat√≥rias na interface
    function mostrarPerguntasSugeridas() {
        // Limpar o container
        suggestedQuestionsContainer.innerHTML = '<h4>Experimente perguntar:</h4>';
        
        // Selecionar 8 perguntas aleat√≥rias
        const perguntasSelecionadas = [];
        while (perguntasSelecionadas.length < 8) {
            const randomIndex = Math.floor(Math.random() * todasPerguntas.length);
            const pergunta = todasPerguntas[randomIndex];
            if (!perguntasSelecionadas.includes(pergunta)) {
                perguntasSelecionadas.push(pergunta);
            }
        }
        
        // Criar bot√µes para cada pergunta
        perguntasSelecionadas.forEach(function(pergunta) {
            const button = document.createElement('button');
            button.className = 'suggested-question-btn';
            button.textContent = pergunta;
            button.addEventListener('click', function() {
                userInput.value = pergunta;
                enviarMensagem();
            });
            suggestedQuestionsContainer.appendChild(button);
        });
        
        // Adicionar bot√£o para mais sugest√µes
        const refreshButton = document.createElement('button');
        refreshButton.className = 'suggested-question-btn refresh-btn';
        refreshButton.innerHTML = '<i class="fas fa-sync-alt"></i> Mais sugest√µes';
        refreshButton.addEventListener('click', mostrarPerguntasSugeridas);
        suggestedQuestionsContainer.appendChild(refreshButton);
        
        // Remover destaque dos bot√µes de categoria
        categoryBtns.forEach(btn => {
            btn.classList.remove('active');
        });
    }
    
    // Inicializar a interface com sugest√µes aleat√≥rias
    mostrarPerguntasSugeridas();
    
    // Adicionar evento de clique aos bot√µes de categoria
    categoryBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const categoria = this.getAttribute('data-category');
            mostrarPerguntasPorCategoria(categoria);
        });
    });
    
    // Adicionar evento de clique √†s tags de busca populares
    searchTags.forEach(tag => {
        tag.addEventListener('click', function(e) {
            e.preventDefault();
            const termo = this.textContent;
            searchInput.value = termo;
            realizarBusca(termo);
        });
    });
    
    // Fun√ß√£o para realizar busca
    function realizarBusca(termo) {
        userInput.value = termo;
        enviarMensagem();
    }
    
    // Adicionar evento de clique ao bot√£o de busca
    if (searchBtn) {
        searchBtn.addEventListener('click', function() {
            const termo = searchInput.value.trim();
            if (termo !== '') {
                realizarBusca(termo);
                searchInput.value = '';
            }
        });
    }
    
    // Adicionar evento de tecla Enter ao campo de busca
    if (searchInput) {
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const termo = this.value.trim();
                if (termo !== '') {
                    realizarBusca(termo);
                    this.value = '';
                }
            }
        });
    }
    
    // Adicionar evento de clique ao bot√£o de enviar
    if (sendMessageBtn) {
        sendMessageBtn.addEventListener('click', enviarMensagem);
    }
    
    // Adicionar evento de tecla Enter ao campo de entrada
    if (userInput) {
        userInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                enviarMensagem();
            }
        });
    }
    
    // Fun√ß√£o para mostrar as perguntas sugeridas
    function mostrarPerguntasSugeridas() {
        // Limpar o container
        suggestedQuestionsContainer.innerHTML = '<h4>Experimente perguntar:</h4>';
        
        // Selecionar 8 perguntas aleat√≥rias
        const perguntasSelecionadas = [];
        while (perguntasSelecionadas.length < 8) {
            const randomIndex = Math.floor(Math.random() * todasPerguntas.length);
            const pergunta = todasPerguntas[randomIndex];
            if (!perguntasSelecionadas.includes(pergunta)) {
                perguntasSelecionadas.push(pergunta);
            }
        }
        
        // Criar bot√µes para cada pergunta
        perguntasSelecionadas.forEach(function(pergunta) {
            const button = document.createElement('button');
            button.className = 'suggested-question-btn';
            button.textContent = pergunta;
            button.addEventListener('click', function() {
                userInput.value = pergunta;
                enviarMensagem();
            });
            suggestedQuestionsContainer.appendChild(button);
        });
        
        // Adicionar bot√£o para mais sugest√µes
        const refreshButton = document.createElement('button');
        refreshButton.className = 'suggested-question-btn refresh-btn';
        refreshButton.innerHTML = '<i class="fas fa-sync-alt"></i> Mais sugest√µes';
        refreshButton.addEventListener('click', mostrarPerguntasSugeridas);
        suggestedQuestionsContainer.appendChild(refreshButton);
    }
    
    // Fun√ß√£o para enviar mensagem
    function enviarMensagem() {
        const text = userInput.value.trim();
        if (text === '') return; // N√£o enviar mensagens vazias
        
        // Adicionar mensagem do usu√°rio ao chat
        adicionarMensagemAoChat(text, 'user');
        
        // Limpar campo de entrada
        userInput.value = '';
        
        // Mostrar indicador de "pensando"
        mostrarIndicadorDePensamento();
        
        // Simular resposta ap√≥s 500ms
        setTimeout(function() {
            // Remover indicador de pensamento
            removerIndicadorDePensamento();
            
            // Gerar e adicionar resposta da IA
            const resposta = gerarResposta(text);
            adicionarMensagemAoChat(resposta, 'ai');
        }, 500);
    }
    
    // Fun√ß√£o para adicionar mensagens ao chat
    function adicionarMensagemAoChat(text, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.className = 'message ' + sender;
        
        if (sender === 'ai') {
            // Formato para mensagens da IA (com √≠cone)
            const icon = document.createElement('i');
            icon.className = 'fas fa-robot';
            
            const span = document.createElement('span');
            span.innerHTML = text.replace(/\n/g, '<br>'); // Converter quebras de linha
            
            messageDiv.appendChild(icon);
            messageDiv.appendChild(span);
        } else {
            // Formato simples para mensagens do usu√°rio
            messageDiv.textContent = text;
        }
        
        // Adicionar ao chat e rolar para a parte inferior
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    // Fun√ß√£o para mostrar indicador de pensamento
    function mostrarIndicadorDePensamento() {
        const loadingDiv = document.createElement('div');
        loadingDiv.className = 'message ai thinking';
        loadingDiv.id = 'thinking-indicator';
        
        const icon = document.createElement('i');
        icon.className = 'fas fa-robot';
        loadingDiv.appendChild(icon);
        
        const span = document.createElement('span');
        span.textContent = 'Pensando...';
        loadingDiv.appendChild(span);
        
        chatMessages.appendChild(loadingDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    // Fun√ß√£o para remover indicador de pensamento
    function removerIndicadorDePensamento() {
        const indicator = document.getElementById('thinking-indicator');
        if (indicator) {
            indicator.remove();
        }
    }
    
    // Fun√ß√£o para gerar respostas baseadas na entrada do usu√°rio
    function gerarResposta(mensagem) {
        const mensagemLower = mensagem.toLowerCase();
        
        // Verificar palavras-chave para determinar a resposta
        if (mensagemLower.includes('pestana') || mensagemLower.includes('f√° maior') || mensagemLower.includes('acorde f')) {
            return `Ah, a famosa pestana! √â um desafio, mas voc√™ vai conseguir dominar! üí™\n\n**Para o F√° Maior (F):**\n1. **Dedo 1 (Indicador):** Pressione todas as 6 cordas na 1¬™ casa em forma de pestana\n2. **Dedo 2 (M√©dio):** Na 2¬™ casa da corda G (3¬™ corda)\n3. **Dedo 3 (Anelar):** Na 3¬™ casa da corda A (5¬™ corda)\n4. **Dedo 4 (M√≠nimo):** Na 3¬™ casa da corda D (4¬™ corda)\n\n**Dicas Cruciais:**\n* **Posi√ß√£o do Indicador:** Use a lateral do dedo (parte mais "√≥ssea"), n√£o a ponta ou parte macia\n* **Polegar Oposto:** Coloque o polegar atr√°s do bra√ßo do viol√£o, aplicando contra-press√£o\n* **Altura do Pulso:** Mantenha o pulso elevado e o antebra√ßo mais alinhado com o bra√ßo do viol√£o\n* **Dist√¢ncia do Traste:** Posicione o dedo bem pr√≥ximo ao traste de metal (sem estar em cima dele)\n* **Comece devagar:** Pratique verificando se todas as cordas est√£o soando limpas, uma por uma`;
        }
        else if (mensagemLower.includes('velocidade') && (mensagemLower.includes('dedo') || mensagemLower.includes('m√£o'))) {
            return `**Como Melhorar a Velocidade dos Dedos:**\n\nA velocidade vem da precis√£o e relaxamento, n√£o da for√ßa. Aqui est√° um plano pr√°tico:\n\n**Exerc√≠cio 1: Crom√°tico B√°sico (3-5 min di√°rios)**\n- Em uma √∫nica corda, posicione os dedos 1-2-3-4 nas casas consecutivas\n- Use metr√¥nomo come√ßando em 60 BPM, uma nota por batida\n- Mantenha os dedos pr√≥ximos √†s cordas (n√£o os levante muito)\n- Quando conseguir tocar sem erros por 1 minuto, aumente 5 BPM\n\n**Exerc√≠cio 2: Aranha (3-5 min di√°rios)**\n- Dedo 1 na casa 1/corda 6, dedo 2 na casa 2/corda 5, etc.\n- Toque uma nota por vez, mantendo cada dedo pressionado at√© usar todos os 4 dedos\n- Depois, mova o padr√£o para as pr√≥ximas cordas\n\n**Exerc√≠cio 3: Independ√™ncia (para n√≠vel intermedi√°rio)**\n- Mantenha o dedo 1 pressionado na casa 1/corda 6\n- Toque alternadamente com os dedos 2, 3 e 4 na casa 3 da mesma corda\n- Repita em todas as cordas\n\n**Dica importante:** Pratique devagar e com precis√£o. Velocidade vem da efici√™ncia de movimento, n√£o da for√ßa.`;
        }
        else if (mensagemLower.includes('acordes') && mensagemLower.includes('iniciante')) {
            return `**Os 8 Acordes Essenciais para Iniciantes:**\n\n1. **C (D√≥ Maior)** - x32010 - Forma um tri√¢ngulo na primeira posi√ß√£o\n2. **G (Sol Maior)** - 320003 - Use os dedos 2, 1 e 3 para formar o tri√¢ngulo b√°sico\n3. **D (R√© Maior)** - xx0232 - Mantenha os dedos em formato triangular na segunda casa\n4. **A (L√° Maior)** - x02220 - Todos os dedos ficam alinhados na segunda casa\n5. **E (Mi Maior)** - 022100 - Similar ao A, mas uma corda abaixo\n6. **Am (L√° menor)** - x02210 - Como o A maior, mas com a 3¬™ corda na 1¬™ casa\n7. **Em (Mi menor)** - 022000 - O mais f√°cil! Apenas dois dedos na segunda casa\n8. **Dm (R√© menor)** - xx0231 - Como o D maior, mas com a 2¬™ corda na 3¬™ casa\n\n**Plano de Pr√°tica:**\n‚Ä¢ Comece pelos acordes mais simples: Em, Am, e C\n‚Ä¢ Dedique 5 minutos para cada acorde, tocando cada corda individualmente\n‚Ä¢ **Pr√°tica de transi√ß√£o:** C‚ÜíG, G‚ÜíD, Am‚ÜíE, Em‚ÜíG\n‚Ä¢ Use m√∫sicas simples como "Asa Branca" (G, C, D) para praticar mudan√ßas`;
        }
        else if (mensagemLower.includes('m√∫sica') || mensagemLower.includes('f√°cil') || mensagemLower.includes('facil') || mensagemLower.includes('musica') || mensagemLower.includes('simples')) {
            return `**7 M√∫sicas Perfeitas para Iniciantes:**\n\n1. **"Asa Branca" (Luiz Gonzaga)**\n   *Acordes:* C, G7, F (ou G, D, C se quiser evitar pestana)\n   *Ritmo:* Bai√£o simplificado ‚Üì‚Üë‚Üì‚Üë‚Üì‚Üë\n   *Por que √© boa:* Apenas 3 acordes e ritmo repetitivo\n\n2. **"Knockin' on Heaven's Door" (Bob Dylan)**\n   *Acordes:* G, D, Am, C\n   *Ritmo:* Batida simples ‚Üì‚Üì‚Üë‚Üë\n\n3. **"Parab√©ns Pra Voc√™"**\n   *Acordes:* D, A7\n   *Ritmo:* ‚Üì‚Üì‚Üì‚Üì\n   *Por que √© boa:* Apenas 2 acordes!\n\n4. **"Love Me Do" (The Beatles)**\n   *Acordes:* G, C\n   *Ritmo:* ‚Üì‚Üë‚Üì‚Üë\n\n5. **"Pra N√£o Dizer Que N√£o Falei das Flores" (Geraldo Vandr√©)**\n   *Acordes:* Am, G, C, F (pode substituir F por C ou D7)\n   *Ritmo:* Batida em 2 tempos\n\n6. **"Stand By Me" (Ben E. King)**\n   *Acordes:* G, Em, C, D\n   *Ritmo:* ‚Üì‚Üë‚Üë‚Üì\n\n7. **"Marcha Soldado"**\n   *Acordes:* C, G7\n   *Ritmo:* Marcha simples\n\n**Dica:** Escolha apenas UMA m√∫sica e domine-a completamente antes de passar para outra. √â melhor tocar uma m√∫sica inteira bem do que v√°rias pela metade!`;
        }
        else if (mensagemLower.includes('dor') && (mensagemLower.includes('dedo') || mensagemLower.includes('m√£o') || mensagemLower.includes('dedos'))) {
            return `**Como Evitar Dor nos Dedos ao Tocar Viol√£o:**\n\n**√â normal sentir desconforto no in√≠cio, mas dor intensa n√£o!**\n\n**Causas comuns e solu√ß√µes:**\n\n1. **Dedos sem calosidade**\n   ‚Ä¢ **Solu√ß√£o:** Comece com sess√µes curtas (10-15 min) e aumente gradualmente\n   ‚Ä¢ As pontas dos dedos v√£o endurecer naturalmente com o tempo\n\n2. **Press√£o excessiva nas cordas**\n   ‚Ä¢ **Solu√ß√£o:** Use apenas a for√ßa m√≠nima necess√°ria para produzir um som limpo\n   ‚Ä¢ Voc√™ provavelmente est√° pressionando com for√ßa demais (comum em iniciantes)\n\n3. **Altura das cordas (action)**\n   ‚Ä¢ **Solu√ß√£o:** Verifique se seu viol√£o est√° bem regulado\n   ‚Ä¢ Cordas muito altas exigem mais for√ßa e causam mais dor\n\n4. **Postura incorreta**\n   ‚Ä¢ **Solu√ß√£o:** Mantenha o polegar no meio da parte de tr√°s do bra√ßo do viol√£o\n   ‚Ä¢ Seus dedos devem formar um "C" ao redor do bra√ßo\n\n5. **Usar a ponta dos dedos**\n   ‚Ä¢ **Solu√ß√£o:** Pressione as cordas com a parte "carnuda" das pontas dos dedos\n\n**Dica extra:** Cordas de nylon s√£o mais suaves para os dedos do que as de a√ßo. Se a dor persistir por mais de 30 minutos ap√≥s parar de tocar, descanse por 1-2 dias.`;
        }
        else if (mensagemLower.includes('afinar') || mensagemLower.includes('afina√ß√£o')) {
            return `**Como Afinar o Viol√£o Sem Afinador:**\n\n**M√©todo 1: Afina√ß√£o Relativa (5¬™ casa)**\n\nIniciando com a 6¬™ corda (Mi grave):\n1. **Mi (6¬™ corda):** Afine usando refer√™ncia (outro instrumento, diapas√£o ou v√≠deo online)\n2. **L√° (5¬™ corda):** Deve soar igual √† 6¬™ corda pressionada na 5¬™ casa\n3. **R√© (4¬™ corda):** Deve soar igual √† 5¬™ corda pressionada na 5¬™ casa\n4. **Sol (3¬™ corda):** Deve soar igual √† 4¬™ corda pressionada na 5¬™ casa\n5. **Si (2¬™ corda):** Deve soar igual √† 3¬™ corda pressionada na 4¬™ casa (exce√ß√£o!)\n6. **Mi (1¬™ corda):** Deve soar igual √† 2¬™ corda pressionada na 5¬™ casa\n\n**M√©todo 2: Harm√¥nicos na 5¬™ e 7¬™ casas**\n1. **Mi e L√°:** Compare o harm√¥nico da 6¬™ corda na 5¬™ casa com a 5¬™ corda solta\n2. **L√° e R√©:** Compare o harm√¥nico da 5¬™ corda na 5¬™ casa com a 4¬™ corda solta\n3. E assim por diante\n\n**Dicas:**\n‚Ä¢ Os harm√¥nicos s√£o produzidos tocando levemente a corda sobre o traste (sem pressionar)\n‚Ä¢ Ajuste lentamente as tarraxas at√© os sons coincidirem\n‚Ä¢ Aplicativos gratuitos de afinador s√£o uma op√ß√£o mais precisa`;
        }
        else if (mensagemLower.includes('campo harm√¥nico') || mensagemLower.includes('campo harmonico')) {
            return `**O que √© Campo Harm√¥nico:**\n\n**Defini√ß√£o:** O campo harm√¥nico √© o conjunto de acordes formados a partir das notas de uma escala musical.\n\n**Campo Harm√¥nico Maior (exemplo em C):**\n\n1. **C (D√≥ Maior)** - Acorde de t√¥nica (I)\n2. **Dm (R√© menor)** - Acorde de segunda (ii)\n3. **Em (Mi menor)** - Acorde de ter√ßa (iii)\n4. **F (F√° Maior)** - Acorde de subdominante (IV)\n5. **G (Sol Maior)** - Acorde de dominante (V)\n6. **Am (L√° menor)** - Acorde de sexta/relativa menor (vi)\n7. **B¬∞ (Si diminuto)** - Acorde de s√©tima (vii¬∞)\n\n**Como usar na pr√°tica:**\n\n‚Ä¢ **Progress√µes comuns:** I-IV-V (C-F-G), I-vi-IV-V (C-Am-F-G)\n‚Ä¢ **Substitui√ß√µes:** Substitua acordes com fun√ß√µes similares (vi no lugar do I)\n‚Ä¢ **Modula√ß√£o:** Use acordes comuns para mudar de tonalidade\n\n**Aplica√ß√£o di√°ria:**\nSe voc√™ conhece o campo harm√¥nico de uma tonalidade, pode prever quais acordes provavelmente aparecer√£o juntos em m√∫sicas naquela tonalidade.\n\n**Dica inicial:** Memorize o campo harm√¥nico de C (sem acidentes) e depois aprenda a transportar para outras tonalidades usando o ciclo das quintas.`;
        }
        else if (mensagemLower.includes('ritmo') || mensagemLower.includes('batida') || mensagemLower.includes('constante')) {
            return `**Dicas para Manter o Ritmo Constante:**\n\n**1. Use um metr√¥nomo regularmente**\n‚Ä¢ Comece lento (60-70 BPM)\n‚Ä¢ Pratique tocar exatamente junto com as batidas\n‚Ä¢ Aumente a velocidade gradualmente s√≥ depois de dominar o ritmo lento\n\n**2. Desenvolva sua percep√ß√£o r√≠tmica**\n‚Ä¢ Bata palmas junto com suas m√∫sicas favoritas\n‚Ä¢ Conte os tempos em voz alta enquanto toca (1-2-3-4)\n‚Ä¢ Toque apenas cordas soltas no ritmo desejado antes de adicionar acordes\n\n**3. Divida as batidas complexas**\n‚Ä¢ Use s√≠labas para representar cada movimento (ex: "TUM-chi-TUM-chi")\n‚Ä¢ Pratique apenas o movimento da m√£o direita sem a esquerda\n‚Ä¢ Adicione acordes somente quando o ritmo estiver "no autom√°tico"\n\n**4. T√©cnicas espec√≠ficas**\n‚Ä¢ **Abafe as cordas** levemente com a palma da m√£o para marcar o tempo\n‚Ä¢ Utilize o **pulso como p√™ndulo** para manter o tempo constante\n‚Ä¢ **Movimente o p√©** marcando o tempo (cuidado para n√£o criar ru√≠do)\n\n**5. Exerc√≠cio pr√°tico**\nToque a mesma batida por 5 minutos sem parar, mantendo o tempo constante. Se errar, n√£o pare, apenas volte ao ritmo na pr√≥xima batida. Isso treina sua recupera√ß√£o.`;
        }
        else if (mensagemLower.includes('diferen√ßa') && (mensagemLower.includes('nylon') || mensagemLower.includes('a√ßo') || mensagemLower.includes('aco'))) {
            return `**Diferen√ßas entre Viol√£o de Nylon e A√ßo:**\n\n**Viol√£o de Nylon:**\n\n‚Ä¢ **Som:** Mais suave, quente e encorpado\n‚Ä¢ **Cordas:** Mais macias, menos tens√£o, mais confort√°veis para iniciantes\n‚Ä¢ **Bra√ßo:** Geralmente mais largo, facilitando dedilhados\n‚Ä¢ **Estilo:** Ideal para m√∫sica cl√°ssica, flamenco, bossa nova e MPB\n‚Ä¢ **T√©cnica:** Tradicionalmente tocado com os dedos, sem palheta\n‚Ä¢ **Durabilidade das cordas:** 2-3 meses com uso regular\n‚Ä¢ **Para iniciantes:** Mais gentil com os dedos, menos doloroso\n\n**Viol√£o de A√ßo:**\n\n‚Ä¢ **Som:** Mais brilhante, met√°lico e projetado\n‚Ä¢ **Cordas:** Maior tens√£o, exigem mais for√ßa dos dedos\n‚Ä¢ **Bra√ßo:** Geralmente mais estreito\n‚Ä¢ **Estilo:** Ideal para rock, pop, country, folk\n‚Ä¢ **T√©cnica:** Vers√°til, pode usar palheta ou dedos\n‚Ä¢ **Durabilidade das cordas:** 1-2 meses com uso regular\n‚Ä¢ **Capta√ß√£o:** Mais f√°cil de amplificar sem microfone\n\n**Qual escolher?**\nSe voc√™ √© iniciante e quer tocar MPB, m√∫sica brasileira ou cl√°ssica, o nylon √© uma √≥tima escolha. Para rock, pop e m√∫sica americana em geral, o a√ßo oferece o timbre caracter√≠stico desses estilos.\n\n**Observa√ß√£o:** √â poss√≠vel tocar qualquer estilo em ambos, mas certos g√™neros soar√£o mais aut√™nticos no instrumento apropriado.`;
        }
        else if (mensagemLower.includes('metr√¥nomo') || mensagemLower.includes('metronomo')) {
            return `**Como Praticar com Metr√¥nomo:**\n\n**Por que usar metr√¥nomo:**\n‚Ä¢ Desenvolve seu senso r√≠tmico interno\n‚Ä¢ Exp√µe problemas t√©cnicos escondidos\n‚Ä¢ Permite progresso gradual e mensur√°vel\n‚Ä¢ Essencial para tocar com outros m√∫sicos\n\n**Guia passo a passo:**\n\n**1. Comece lento**\n‚Ä¢ Defina um BPM confort√°vel (60-70 para iniciantes)\n‚Ä¢ Se estiver com dificuldade, diminua ainda mais\n\n**2. Pratique em camadas:**\n‚Ä¢ **N√≠vel 1:** Apenas bata palmas junto com o metr√¥nomo\n‚Ä¢ **N√≠vel 2:** Toque apenas cordas soltas no ritmo\n‚Ä¢ **N√≠vel 3:** Adicione trocas de acordes simples\n‚Ä¢ **N√≠vel 4:** Execute a m√∫sica ou exerc√≠cio completo\n\n**3. Exerc√≠cio de subdivis√£o**\n‚Ä¢ Configure o metr√¥nomo para 60 BPM\n‚Ä¢ Toque uma nota a cada clique (sem√≠nimas)\n‚Ä¢ Depois toque duas notas por clique (colcheias)\n‚Ä¢ Em seguida, quatro notas por clique (semicolcheias)\n\n**4. Aumente a velocidade gradualmente**\n‚Ä¢ Aumente apenas 3-5 BPM quando estiver consistente\n‚Ä¢ Volte ao andamento lento se perder a precis√£o\n\n**Dica profissional:** Pratique com o metr√¥nomo marcando apenas o 2¬∫ e 4¬∫ tempos (em compasso 4/4) para desenvolver ainda mais sua estabilidade r√≠tmica.`;
        }
        else if (mensagemLower.includes('improvisa') || mensagemLower.includes('improvisar') || mensagemLower.includes('solo')) {
            return `**Como Improvisar no Viol√£o:**\n\n**Para iniciantes:**\n\n**1. Comece com a escala pentat√¥nica menor**\n‚Ä¢ Na tonalidade de Am: Use as notas A, C, D, E, G\n‚Ä¢ Posi√ß√£o b√°sica: 5¬™ casa da corda E (Mi) at√© a 8¬™ casa\n‚Ä¢ Esta escala funciona em muitos contextos musicais\n\n**2. Aprenda os padr√µes da escala no bra√ßo**\n‚Ä¢ Estude o formato da escala (dispon√≠vel em diagramas online)\n‚Ä¢ Pratique subindo e descendo lentamente primeiro\n\n**3. Improvisa√ß√£o r√≠tmica**\n‚Ä¢ Comece improvisando usando apenas 2-3 notas\n‚Ä¢ Foque no ritmo mais que nas notas\n‚Ä¢ Use pausas (o sil√™ncio √© t√£o importante quanto as notas)\n\n**4. T√©cnicas expressivas simples**\n‚Ä¢ **Bend:** Pressione uma nota e empurre a corda para cima para elevar o tom\n‚Ä¢ **Slide:** Deslize de uma nota para outra\n‚Ä¢ **Hammer-on/Pull-off:** Articula√ß√µes sem tocar novamente a corda\n\n**5. Exerc√≠cio pr√°tico para come√ßar**\n‚Ä¢ Toque a progress√£o Am-G-F-E em loop (ou pe√ßa para algu√©m tocar)\n‚Ä¢ Improvise usando apenas as notas da escala pentat√¥nica de Am\n‚Ä¢ Comece com frases curtas, repita motivos e desenvolva-os gradualmente\n\n**Lembre-se:** Bom improviso n√£o √© tocar r√°pido ou muitas notas, mas sim criar frases musicais com significado e express√£o.`;
        }
        else if (mensagemLower.includes('dedilhado') || mensagemLower.includes('arpejo')) {
            return `**Dedilhado Simples para Iniciantes:**\n\n**Padr√£o b√°sico de dedilhado (arpejo)**\nUsando os dedos: p (polegar), i (indicador), m (m√©dio), a (anelar)\n\n**T√©cnica correta:**\n‚Ä¢ **M√£o direita:** Mantenha o pulso levemente arqueado\n‚Ä¢ **Posi√ß√£o dos dedos:** Curvados naturalmente, perpendiculares √†s cordas\n‚Ä¢ **Unhas:** Para dedilhado cl√°ssico, use uma combina√ß√£o de polpa do dedo e unha\n\n**Padr√£o 1 - B√°sico (4/4)**\np i m a (repetir)\nPolegar na 6¬™, 5¬™ ou 4¬™ corda, demais dedos nas 3¬™, 2¬™ e 1¬™ cordas\n\n**Padr√£o 2 - Balada**\np i m a m i (repetir)\n\n**Padr√£o 3 - Valsa (3/4)**\np i m  p i m  (repetir)\n\n**Exerc√≠cio pr√°tico:**\n1. Use o acorde de C maior (√© f√°cil de formar)\n2. Toque lentamente, garantindo que cada nota soe clara\n3. Mantenha um ritmo constante (use metr√¥nomo em 60 BPM)\n4. Quando dominar um padr√£o, tente outro acorde\n\n**Progress√£o ideal para praticar:**\nC - G - Am - F (um compasso para cada acorde)\n\n**Dica importante:** Comece muito lento e com precis√£o. A velocidade vir√° naturalmente conforme a t√©cnica melhora.`;
        }
        else if (mensagemLower.includes('gm') || mensagemLower.includes('sol menor')) {
            return `**Como Tocar o Acorde de Sol menor (Gm):**\n\n**Formato padr√£o (com pestana):**\n1. **Dedo 1 (indicador):** Pestana na 3¬™ casa cobrindo as 6 cordas\n2. **Dedo 3 (anelar):** 5¬™ casa da 2¬™ corda (B)\n3. **Dedo 4 (m√≠nimo):** 5¬™ casa da 1¬™ corda (E)\n\n**Vers√£o simplificada (sem pestana):**\n1. **Dedo 1 (indicador):** 3¬™ casa da 6¬™ corda (E)\n2. **Dedo 2 (m√©dio):** 3¬™ casa da 5¬™ corda (A)\n3. **Dedo 3 (anelar):** 3¬™ casa da 4¬™ corda (D)\n4. Toque apenas das cordas 1-4 (evite as cordas 1 e 2)\n\n**Vers√£o alternativa (forma de Em deslocada):**\n1. **Dedo 1 (indicador):** 3¬™ casa da 1¬™ corda (E)\n2. **Dedo 2 (m√©dio):** 3¬™ casa da 2¬™ corda (B) \n3. Toque apenas as 4 cordas mais agudas\n\n**Transi√ß√µes comuns envolvendo Gm:**\n‚Ä¢ Gm ‚Üí Cm (ambos com pestana)\n‚Ä¢ Gm ‚Üí D (mova apenas 2 dedos)\n‚Ä¢ Gm ‚Üí F (des√ßa dois trastes com a pestana)\n\n**M√∫sicas populares com Gm:**\n‚Ä¢ \"Que Pa√≠s √© Este\" - Legi√£o Urbana (Gm - C - D)\n‚Ä¢ \"Admir√°vel Gado Novo\" - Z√© Ramalho (Gm - F - Cm - D)`;
        }
        else if (mensagemLower.includes('samba') && (mensagemLower.includes('batida') || mensagemLower.includes('ritmo'))) {
            return `**Como Tocar Batida de Samba no Viol√£o:**\n\n**Batida de samba b√°sica (para destros):**\n\n**Padr√£o principal:**\n‚Ä¢ **Nota√ß√£o:** ‚Üì(B) ‚Üë ‚Üì ‚Üë ‚Üì(B) ‚Üë\n‚Ä¢ **Onde (B) = batida percussiva com polegar/lateral da m√£o**\n\n**Passo a passo:**\n\n**1. Posi√ß√£o da m√£o direita:**\n‚Ä¢ Polegar para baixo nas cordas graves (6¬™, 5¬™, 4¬™)\n‚Ä¢ Dedos (ou lateral do indicador) para cima nas cordas agudas\n‚Ä¢ Mantenha o pulso flex√≠vel e solto\n\n**2. Movimento b√°sico (sem cordas):**\n‚Ä¢ Treine fazendo o movimento "baixo-cima-baixo-cima-baixo-cima"\n‚Ä¢ Adicione a percuss√£o batendo levemente no tampo com o polegar\n\n**3. Contagem:**\n‚Ä¢ 1 **e** 2 **e** 3 **e** (em compasso 3/4)\n‚Ä¢ Bata no tampo nos tempos 1 e 3\n\n**4. Acordes comuns no samba:**\n‚Ä¢ A7, D7, G7, Dm, E7, Am\n‚Ä¢ Experimente com a progress√£o: Am - E7 - Am - A7 - Dm - G7 - C - E7\n\n**5. Varia√ß√µes r√≠tmicas:**\n‚Ä¢ Experimente acentuar diferentes partes do padr√£o\n‚Ä¢ Adicione "fantasmas" (toques muito leves entre os principais)\n\n**Dica profissional:** Ou√ßa muito samba! A batida est√° no ouvido tanto quanto nas m√£os. Escute Jo√£o Gilberto, Paulinho da Viola e outros mestres.`;
        }
        else {
            return `Obrigado pela sua pergunta sobre "${mensagem}"!\n\nPosso ajudar com diversos temas relacionados ao viol√£o:\n\n‚Ä¢ **Acordes e posi√ß√µes** - aprenda novos acordes ou aperfei√ßoe os que j√° conhece\n‚Ä¢ **T√©cnicas espec√≠ficas** - dedilhado, pestanas, hammer-ons, palm muting, etc.\n‚Ä¢ **Ritmos e batidas** - do pop ao samba, passando por rock, MPB e muito mais\n‚Ä¢ **Exerc√≠cios pr√°ticos** - para melhorar velocidade, precis√£o e coordena√ß√£o\n‚Ä¢ **Teoria musical** - escalas, campo harm√¥nico, progress√µes de acordes\n‚Ä¢ **Repert√≥rio** - m√∫sicas para iniciantes, intermedi√°rios ou avan√ßados\n\nExperimente clicar em uma das sugest√µes acima para ver exemplos espec√≠ficos ou me pergunte algo como:\n\n- "Como fazer o acorde de Mi menor?"\n- "Quais ritmos s√£o f√°ceis para come√ßar?"\n- "Dicas para trocar acordes mais r√°pido"\n- "M√∫sicas com apenas 3 acordes"`;
        }
    }
    
    // Adicionar bot√£o para limpar o chat
    const clearChatBtn = document.createElement('button');
    clearChatBtn.className = 'btn btn-secondary';
    clearChatBtn.innerHTML = '<i class="fas fa-trash"></i> Limpar conversa';
    clearChatBtn.style.marginTop = '20px';
    clearChatBtn.style.width = '100%';
    clearChatBtn.style.backgroundColor = '#a0522d';
    
    clearChatBtn.addEventListener('click', function() {
        // Manter apenas a primeira mensagem (boas-vindas)
        while (chatMessages.children.length > 1) {
            chatMessages.removeChild(chatMessages.lastChild);
        }
        // Rolar para o topo
        chatMessages.scrollTop = 0;
    });
    
    // Adicionar o bot√£o abaixo do chat
    document.getElementById('chatInterface').parentNode.appendChild(clearChatBtn);
});

// Estilo adicional para anima√ß√£o de "pensando"
document.head.insertAdjacentHTML('beforeend', `
<style>
    .message.thinking span {
        display: inline-flex;
        align-items: center;
        font-style: italic;
        color: var(--secondary-color);
    }
    .message.thinking span::after {
        content: '';
        width: 12px;
        height: 12px;
        margin-left: 8px;
        border: 2px solid var(--border-color);
        border-radius: 50%;
        border-top-color: var(--primary-color);
        animation: spin 1s linear infinite;
    }
    @keyframes spin {
        to { transform: rotate(360deg); }
    }
    
    .refresh-btn {
        background-color: var(--accent-color) !important;
        color: var(--light-text) !important;
    }
    
    .refresh-btn:hover {
        background-color: var(--secondary-color) !important;
    }
    
    #suggestedQuestions {
        max-height: 150px;
        overflow-y: auto;
        padding-bottom: 12px;
    }
</style>
`);
</script>
</body>
</html>
